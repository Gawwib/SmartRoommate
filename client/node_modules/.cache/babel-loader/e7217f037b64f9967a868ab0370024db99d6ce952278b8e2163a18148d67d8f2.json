{"ast":null,"code":"import _objectSpread from\"C:/Users/User/Documents/Project/Smart-roommate-app/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useMemo,useState}from'react';import{useNavigate}from'react-router-dom';import API from'../services/api';import{DEFAULT_PROPERTY_IMAGE}from'../constants/propertyMedia';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const HABIT_OPTIONS=['Cinema','Football','Basketball','Tennis','Running','Cycling','Hiking','Swimming','Gym / Fitness','Yoga','Pilates','Cooking','Baking','Coffee shops','Tea lover','Wine tasting','Craft beer','Board games','Card games','Video games','Esports','Anime','Manga','Reading','Writing','Photography','Videography','Art galleries','Museums','Concerts','Live music','Festivals','Travel','Road trips','Camping','Beach days','Shopping','Thrifting','Fashion','Interior design','DIY projects','Gardening','Plants','Pets / Dogs','Pets / Cats','Volunteering','Meditation','Language learning','Tech & gadgets','Podcasts','Stand-up comedy','Dancing'];const MIN_HABITS=3;const MAX_HABITS=8;const BIO_LIMIT=30;const parseHabits=value=>(value||'').split(',').map(item=>item.trim()).filter(Boolean);const formatHabits=list=>list.join(', ');const calculateAge=birthdate=>{if(!birthdate)return null;const dob=new Date(birthdate);if(Number.isNaN(dob.getTime()))return null;const diff=Date.now()-dob.getTime();const ageDate=new Date(diff);return Math.abs(ageDate.getUTCFullYear()-1970);};export default function Profile(){const[profile,setProfile]=useState(null);const[form,setForm]=useState({birthdate:'',gender:'',location:'',bio:'',habits:[],profileImage:''});const[msg,setMsg]=useState('');const[error,setError]=useState('');const[loading,setLoading]=useState(true);const[saving,setSaving]=useState(false);const[uploading,setUploading]=useState(false);const navigate=useNavigate();useEffect(()=>{const load=async()=>{try{const res=await API.get('/users/me');const interests=parseHabits(res.data.habits);setProfile(res.data);setForm({birthdate:res.data.birthdate?res.data.birthdate.slice(0,10):'',gender:res.data.gender||'',location:res.data.location||'',bio:res.data.bio||'',habits:interests,profileImage:res.data.profile_image_url||''});}catch(err){var _err$response;if(((_err$response=err.response)===null||_err$response===void 0?void 0:_err$response.status)===401){setError('Please log in to view your profile.');}else{setError('Unable to load your profile right now.');}}finally{setLoading(false);}};load();},[]);const handleHabitToggle=habit=>{setForm(prev=>{const alreadySelected=prev.habits.includes(habit);if(alreadySelected){return _objectSpread(_objectSpread({},prev),{},{habits:prev.habits.filter(h=>h!==habit)});}if(prev.habits.length>=MAX_HABITS)return prev;return _objectSpread(_objectSpread({},prev),{},{habits:[...prev.habits,habit]});});};const handleChange=e=>setForm(_objectSpread(_objectSpread({},form),{},{[e.target.name]:e.target.value}));const handlePhotoUpload=async event=>{const files=Array.from(event.target.files||[]);if(!files.length)return;const formData=new FormData();formData.append('images',files[0]);try{var _res$data,_res$data$urls;setUploading(true);const res=await API.post('/uploads',formData,{headers:{'Content-Type':'multipart/form-data'}});const url=(_res$data=res.data)===null||_res$data===void 0?void 0:(_res$data$urls=_res$data.urls)===null||_res$data$urls===void 0?void 0:_res$data$urls[0];if(url){setForm(prev=>_objectSpread(_objectSpread({},prev),{},{profileImage:url}));setProfile(prev=>_objectSpread(_objectSpread({},prev),{},{profile_image_url:url}));}}catch(err){var _err$response2,_err$response2$data;console.error(err);setError(((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.message)||'Unable to upload photo.');}finally{setUploading(false);event.target.value='';}};const handleSubmit=async e=>{e.preventDefault();setMsg('');setError('');if(form.habits.length<MIN_HABITS||form.habits.length>MAX_HABITS){setError(\"Choose at least \".concat(MIN_HABITS,\" and at most \").concat(MAX_HABITS,\" interests.\"));return;}if(!form.gender){setError('Please select your gender.');return;}if(!form.bio.trim()){setError('Add a short bio about yourself (max 30 characters).');return;}if(form.bio.trim().length>BIO_LIMIT){setError('Bio must be 30 characters or fewer.');return;}const age=calculateAge(form.birthdate||(profile===null||profile===void 0?void 0:profile.birthdate));const payload={birthdate:profile===null||profile===void 0?void 0:profile.birthdate,age,gender:form.gender||null,location:form.location||'',budget:null,habits:formatHabits(form.habits),profile_image_url:form.profileImage||null,bio:form.bio.trim()};try{setSaving(true);await API.put('/users/me',payload);setMsg('Profile updated');setProfile(prev=>_objectSpread(_objectSpread({},prev),payload));}catch(err){var _err$response3,_err$response3$data;console.error(err);setError(((_err$response3=err.response)===null||_err$response3===void 0?void 0:(_err$response3$data=_err$response3.data)===null||_err$response3$data===void 0?void 0:_err$response3$data.message)||'Unable to update profile right now.');}finally{setSaving(false);}};const ageDisplay=useMemo(()=>calculateAge(form.birthdate||(profile===null||profile===void 0?void 0:profile.birthdate)),[form.birthdate,profile]);const birthYear=useMemo(()=>profile!==null&&profile!==void 0&&profile.birthdate?new Date(profile.birthdate).getFullYear():null,[profile===null||profile===void 0?void 0:profile.birthdate]);const displayImage=form.profileImage||(profile===null||profile===void 0?void 0:profile.profile_image_url)||DEFAULT_PROPERTY_IMAGE;if(loading)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});if(error&&!profile){return/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-warning d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsx(\"span\",{children:error}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary btn-sm\",onClick:()=>navigate('/login'),children:\"Go to login\"})]});}if(!profile)return null;return/*#__PURE__*/_jsxs(\"div\",{className:\"profile-page\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card border-0 shadow-sm mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"eyebrow text-uppercase mb-1\",children:\"Your profile\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"h4 mb-3\",children:\"Personal details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center gap-3 mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"profile-avatar\",children:displayImage?/*#__PURE__*/_jsx(\"img\",{src:displayImage,alt:\"Profile\"}):/*#__PURE__*/_jsx(\"span\",{children:\"?\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"mb-1\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Name:\"}),\" \",profile.name]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mb-1\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),\" \",profile.email]}),ageDisplay!==null&&/*#__PURE__*/_jsxs(\"p\",{className:\"mb-1\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Age:\"}),\" \",ageDisplay,\" years\"]}),profile.birthdate&&/*#__PURE__*/_jsxs(\"p\",{className:\"mb-1 text-muted small\",children:[\"Birthdate on file: \",profile.birthdate]}),profile.location&&/*#__PURE__*/_jsxs(\"p\",{className:\"mb-1\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Location:\"}),\" \",profile.location]})]})]}),form.bio&&/*#__PURE__*/_jsxs(\"p\",{className:\"mb-0 mt-2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"My bio:\"}),\" \",form.bio]}),form.habits.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"mb-1\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Interests:\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"pill-grid\",children:form.habits.map(habit=>/*#__PURE__*/_jsx(\"span\",{className:\"pill pill-selected\",children:habit},habit))})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card border-0 shadow-sm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"eyebrow text-uppercase mb-1\",children:\"Preview\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"h5\",children:\"How others see you\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-preview-card mt-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"profile-preview-image\",children:/*#__PURE__*/_jsx(\"img\",{src:displayImage,alt:\"Profile preview\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-preview-body\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"mb-1\",children:[profile.name,ageDisplay!==null&&/*#__PURE__*/_jsx(\"span\",{className:\"ms-2 text-muted\",children:ageDisplay})]}),birthYear&&/*#__PURE__*/_jsxs(\"p\",{className:\"mb-1 text-muted small\",children:[\"Born \",birthYear]}),profile.location&&/*#__PURE__*/_jsx(\"p\",{className:\"mb-1\",children:profile.location}),form.bio&&/*#__PURE__*/_jsx(\"p\",{className:\"mb-2 text-muted fst-italic\",children:form.bio}),form.habits.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"pill-grid\",children:form.habits.slice(0,6).map(habit=>/*#__PURE__*/_jsx(\"span\",{className:\"pill pill-selected small\",children:habit},habit))})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card border-0 shadow-sm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"eyebrow text-uppercase mb-1\",children:\"Improve your matches\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"h5\",children:\"Update profile\"}),msg&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-info mt-2\",children:msg}),error&&profile&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-warning mt-2\",children:error}),/*#__PURE__*/_jsxs(\"form\",{className:\"mt-3\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label d-block\",children:\"Gender *\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-check\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"gender\",id:\"gender-male\",value:\"male\",checked:form.gender==='male',onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",htmlFor:\"gender-male\",children:\"Male\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-check\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"gender\",id:\"gender-female\",value:\"female\",checked:form.gender==='female',onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",htmlFor:\"gender-female\",children:\"Female\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Location\"}),/*#__PURE__*/_jsx(\"input\",{name:\"location\",value:form.location,onChange:handleChange,className:\"form-control\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center mb-1\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"form-label mb-0\",children:[\"Interests (select \",MIN_HABITS,\"-\",MAX_HABITS,\") *\"]}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[form.habits.length,\" selected\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"pill-grid selectable\",children:HABIT_OPTIONS.map(option=>{const selected=form.habits.includes(option);const disabled=!selected&&form.habits.length>=MAX_HABITS;return/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"pill \".concat(selected?'pill-selected':''),onClick:()=>handleHabitToggle(option),disabled:disabled,children:option},option);})}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"We\\u2019ll use these to improve AI roommate compatibility. Pick what genuinely matters to you.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center mb-1\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label mb-0\",children:\"My bio *\"}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[form.bio.length,\"/\",BIO_LIMIT]})]}),/*#__PURE__*/_jsx(\"input\",{name:\"bio\",value:form.bio,onChange:e=>{if(e.target.value.length<=BIO_LIMIT)handleChange(e);},className:\"form-control\",placeholder:\"Short sentence about you\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Profile photo\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"profile-avatar small\",children:form.profileImage?/*#__PURE__*/_jsx(\"img\",{src:form.profileImage,alt:\"Profile\"}):/*#__PURE__*/_jsx(\"span\",{children:\"?\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-grow-1\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",className:\"form-control\",onChange:handlePhotoUpload,disabled:uploading}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"Upload one clear photo (max 5MB).\"})]})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",type:\"submit\",disabled:saving,children:saving?'Saving...':'Save profile'})]})]})})]});}","map":{"version":3,"names":["React","useEffect","useMemo","useState","useNavigate","API","DEFAULT_PROPERTY_IMAGE","jsx","_jsx","jsxs","_jsxs","HABIT_OPTIONS","MIN_HABITS","MAX_HABITS","BIO_LIMIT","parseHabits","value","split","map","item","trim","filter","Boolean","formatHabits","list","join","calculateAge","birthdate","dob","Date","Number","isNaN","getTime","diff","now","ageDate","Math","abs","getUTCFullYear","Profile","profile","setProfile","form","setForm","gender","location","bio","habits","profileImage","msg","setMsg","error","setError","loading","setLoading","saving","setSaving","uploading","setUploading","navigate","load","res","get","interests","data","slice","profile_image_url","err","_err$response","response","status","handleHabitToggle","habit","prev","alreadySelected","includes","_objectSpread","h","length","handleChange","e","target","name","handlePhotoUpload","event","files","Array","from","formData","FormData","append","_res$data","_res$data$urls","post","headers","url","urls","_err$response2","_err$response2$data","console","message","handleSubmit","preventDefault","concat","age","payload","budget","put","_err$response3","_err$response3$data","ageDisplay","birthYear","getFullYear","displayImage","children","className","type","onClick","src","alt","email","onSubmit","id","checked","onChange","required","htmlFor","option","selected","disabled","placeholder","accept"],"sources":["C:/Users/User/Documents/Project/Smart-roommate-app/client/src/components/Profile.js"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport API from '../services/api';\nimport { DEFAULT_PROPERTY_IMAGE } from '../constants/propertyMedia';\n\nconst HABIT_OPTIONS = [\n  'Cinema',\n  'Football',\n  'Basketball',\n  'Tennis',\n  'Running',\n  'Cycling',\n  'Hiking',\n  'Swimming',\n  'Gym / Fitness',\n  'Yoga',\n  'Pilates',\n  'Cooking',\n  'Baking',\n  'Coffee shops',\n  'Tea lover',\n  'Wine tasting',\n  'Craft beer',\n  'Board games',\n  'Card games',\n  'Video games',\n  'Esports',\n  'Anime',\n  'Manga',\n  'Reading',\n  'Writing',\n  'Photography',\n  'Videography',\n  'Art galleries',\n  'Museums',\n  'Concerts',\n  'Live music',\n  'Festivals',\n  'Travel',\n  'Road trips',\n  'Camping',\n  'Beach days',\n  'Shopping',\n  'Thrifting',\n  'Fashion',\n  'Interior design',\n  'DIY projects',\n  'Gardening',\n  'Plants',\n  'Pets / Dogs',\n  'Pets / Cats',\n  'Volunteering',\n  'Meditation',\n  'Language learning',\n  'Tech & gadgets',\n  'Podcasts',\n  'Stand-up comedy',\n  'Dancing'\n];\n\nconst MIN_HABITS = 3;\nconst MAX_HABITS = 8;\nconst BIO_LIMIT = 30;\n\nconst parseHabits = (value) =>\n  (value || '')\n    .split(',')\n    .map((item) => item.trim())\n    .filter(Boolean);\n\nconst formatHabits = (list) => list.join(', ');\n\nconst calculateAge = (birthdate) => {\n  if (!birthdate) return null;\n  const dob = new Date(birthdate);\n  if (Number.isNaN(dob.getTime())) return null;\n  const diff = Date.now() - dob.getTime();\n  const ageDate = new Date(diff);\n  return Math.abs(ageDate.getUTCFullYear() - 1970);\n};\n\nexport default function Profile() {\n  const [profile, setProfile] = useState(null);\n  const [form, setForm] = useState({\n    birthdate: '',\n    gender: '',\n    location: '',\n    bio: '',\n    habits: [],\n    profileImage: ''\n  });\n  const [msg, setMsg] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [uploading, setUploading] = useState(false);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const load = async () => {\n      try {\n        const res = await API.get('/users/me');\n        const interests = parseHabits(res.data.habits);\n        setProfile(res.data);\n        setForm({\n          birthdate: res.data.birthdate ? res.data.birthdate.slice(0, 10) : '',\n          gender: res.data.gender || '',\n          location: res.data.location || '',\n          bio: res.data.bio || '',\n          habits: interests,\n          profileImage: res.data.profile_image_url || ''\n        });\n      } catch (err) {\n        if (err.response?.status === 401) {\n          setError('Please log in to view your profile.');\n        } else {\n          setError('Unable to load your profile right now.');\n        }\n      } finally {\n        setLoading(false);\n      }\n    };\n    load();\n  }, []);\n\n  const handleHabitToggle = (habit) => {\n    setForm((prev) => {\n      const alreadySelected = prev.habits.includes(habit);\n      if (alreadySelected) {\n        return { ...prev, habits: prev.habits.filter((h) => h !== habit) };\n      }\n      if (prev.habits.length >= MAX_HABITS) return prev;\n      return { ...prev, habits: [...prev.habits, habit] };\n    });\n  };\n\n  const handleChange = (e) => setForm({ ...form, [e.target.name]: e.target.value });\n\n  const handlePhotoUpload = async (event) => {\n    const files = Array.from(event.target.files || []);\n    if (!files.length) return;\n    const formData = new FormData();\n    formData.append('images', files[0]);\n    try {\n      setUploading(true);\n      const res = await API.post('/uploads', formData, { headers: { 'Content-Type': 'multipart/form-data' } });\n      const url = res.data?.urls?.[0];\n      if (url) {\n        setForm((prev) => ({ ...prev, profileImage: url }));\n        setProfile((prev) => ({ ...prev, profile_image_url: url }));\n      }\n    } catch (err) {\n      console.error(err);\n      setError(err.response?.data?.message || 'Unable to upload photo.');\n    } finally {\n      setUploading(false);\n      event.target.value = '';\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setMsg('');\n    setError('');\n\n    if (form.habits.length < MIN_HABITS || form.habits.length > MAX_HABITS) {\n      setError(`Choose at least ${MIN_HABITS} and at most ${MAX_HABITS} interests.`);\n      return;\n    }\n\n    if (!form.gender) {\n      setError('Please select your gender.');\n      return;\n    }\n\n    if (!form.bio.trim()) {\n      setError('Add a short bio about yourself (max 30 characters).');\n      return;\n    }\n\n    if (form.bio.trim().length > BIO_LIMIT) {\n      setError('Bio must be 30 characters or fewer.');\n      return;\n    }\n\n    const age = calculateAge(form.birthdate || profile?.birthdate);\n    const payload = {\n      birthdate: profile?.birthdate,\n      age,\n      gender: form.gender || null,\n      location: form.location || '',\n      budget: null,\n      habits: formatHabits(form.habits),\n      profile_image_url: form.profileImage || null,\n      bio: form.bio.trim()\n    };\n\n    try {\n      setSaving(true);\n      await API.put('/users/me', payload);\n      setMsg('Profile updated');\n      setProfile((prev) => ({ ...prev, ...payload }));\n    } catch (err) {\n      console.error(err);\n      setError(err.response?.data?.message || 'Unable to update profile right now.');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const ageDisplay = useMemo(() => calculateAge(form.birthdate || profile?.birthdate), [form.birthdate, profile]);\n  const birthYear = useMemo(\n    () => (profile?.birthdate ? new Date(profile.birthdate).getFullYear() : null),\n    [profile?.birthdate]\n  );\n  const displayImage = form.profileImage || profile?.profile_image_url || DEFAULT_PROPERTY_IMAGE;\n\n  if (loading) return <div>Loading...</div>;\n\n  if (error && !profile) {\n    return (\n      <div className=\"alert alert-warning d-flex justify-content-between align-items-center\">\n        <span>{error}</span>\n        <button type=\"button\" className=\"btn btn-primary btn-sm\" onClick={() => navigate('/login')}>\n          Go to login\n        </button>\n      </div>\n    );\n  }\n\n  if (!profile) return null;\n\n  return (\n    <div className=\"profile-page\">\n      <div className=\"card border-0 shadow-sm mb-4\">\n        <div className=\"card-body\">\n          <p className=\"eyebrow text-uppercase mb-1\">Your profile</p>\n          <h2 className=\"h4 mb-3\">Personal details</h2>\n          <div className=\"d-flex align-items-center gap-3 mb-3\">\n            <div className=\"profile-avatar\">\n              {displayImage ? <img src={displayImage} alt=\"Profile\" /> : <span>?</span>}\n            </div>\n            <div>\n              <p className=\"mb-1\"><strong>Name:</strong> {profile.name}</p>\n              <p className=\"mb-1\"><strong>Email:</strong> {profile.email}</p>\n              {ageDisplay !== null && <p className=\"mb-1\"><strong>Age:</strong> {ageDisplay} years</p>}\n              {profile.birthdate && <p className=\"mb-1 text-muted small\">Birthdate on file: {profile.birthdate}</p>}\n              {profile.location && <p className=\"mb-1\"><strong>Location:</strong> {profile.location}</p>}\n            </div>\n          </div>\n          {form.bio && (\n            <p className=\"mb-0 mt-2\">\n              <strong>My bio:</strong> {form.bio}\n            </p>\n          )}\n          {form.habits.length > 0 && (\n            <div className=\"mt-3\">\n              <p className=\"mb-1\"><strong>Interests:</strong></p>\n              <div className=\"pill-grid\">\n                {form.habits.map((habit) => (\n                  <span key={habit} className=\"pill pill-selected\">{habit}</span>\n                ))}\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n\n      <div className=\"card border-0 shadow-sm\">\n        <div className=\"card-body\">\n          <p className=\"eyebrow text-uppercase mb-1\">Preview</p>\n          <h3 className=\"h5\">How others see you</h3>\n          <div className=\"profile-preview-card mt-3\">\n            <div className=\"profile-preview-image\">\n              <img src={displayImage} alt=\"Profile preview\" />\n            </div>\n            <div className=\"profile-preview-body\">\n              <h4 className=\"mb-1\">\n                {profile.name}\n                {ageDisplay !== null && <span className=\"ms-2 text-muted\">{ageDisplay}</span>}\n              </h4>\n              {birthYear && <p className=\"mb-1 text-muted small\">Born {birthYear}</p>}\n              {profile.location && <p className=\"mb-1\">{profile.location}</p>}\n              {form.bio && <p className=\"mb-2 text-muted fst-italic\">{form.bio}</p>}\n              {form.habits.length > 0 && (\n                <div className=\"pill-grid\">\n                  {form.habits.slice(0, 6).map((habit) => (\n                    <span key={habit} className=\"pill pill-selected small\">\n                      {habit}\n                    </span>\n                  ))}\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"card border-0 shadow-sm\">\n        <div className=\"card-body\">\n          <p className=\"eyebrow text-uppercase mb-1\">Improve your matches</p>\n          <h3 className=\"h5\">Update profile</h3>\n          {msg && <div className=\"alert alert-info mt-2\">{msg}</div>}\n          {error && profile && <div className=\"alert alert-warning mt-2\">{error}</div>}\n          <form className=\"mt-3\" onSubmit={handleSubmit}>\n            <div className=\"mb-3\">\n              <label className=\"form-label d-block\">Gender *</label>\n              <div className=\"d-flex gap-3\">\n                <div className=\"form-check\">\n                  <input\n                    className=\"form-check-input\"\n                    type=\"radio\"\n                    name=\"gender\"\n                    id=\"gender-male\"\n                    value=\"male\"\n                    checked={form.gender === 'male'}\n                    onChange={handleChange}\n                    required\n                  />\n                  <label className=\"form-check-label\" htmlFor=\"gender-male\">\n                    Male\n                  </label>\n                </div>\n                <div className=\"form-check\">\n                  <input\n                    className=\"form-check-input\"\n                    type=\"radio\"\n                    name=\"gender\"\n                    id=\"gender-female\"\n                    value=\"female\"\n                    checked={form.gender === 'female'}\n                    onChange={handleChange}\n                    required\n                  />\n                  <label className=\"form-check-label\" htmlFor=\"gender-female\">\n                    Female\n                  </label>\n                </div>\n              </div>\n            </div>\n            <div className=\"mb-3\">\n              <label className=\"form-label\">Location</label>\n              <input name=\"location\" value={form.location} onChange={handleChange} className=\"form-control\" />\n            </div>\n            <div className=\"mb-3\">\n              <div className=\"d-flex justify-content-between align-items-center mb-1\">\n                <label className=\"form-label mb-0\">Interests (select {MIN_HABITS}-{MAX_HABITS}) *</label>\n                <small className=\"text-muted\">{form.habits.length} selected</small>\n              </div>\n              <div className=\"pill-grid selectable\">\n                {HABIT_OPTIONS.map((option) => {\n                  const selected = form.habits.includes(option);\n                  const disabled = !selected && form.habits.length >= MAX_HABITS;\n                  return (\n                    <button\n                      type=\"button\"\n                      key={option}\n                      className={`pill ${selected ? 'pill-selected' : ''}`}\n                      onClick={() => handleHabitToggle(option)}\n                      disabled={disabled}\n                    >\n                      {option}\n                    </button>\n                  );\n                })}\n              </div>\n              <small className=\"text-muted\">\n                Weâ€™ll use these to improve AI roommate compatibility. Pick what genuinely matters to you.\n              </small>\n            </div>\n            <div className=\"mb-3\">\n              <div className=\"d-flex justify-content-between align-items-center mb-1\">\n                <label className=\"form-label mb-0\">My bio *</label>\n                <small className=\"text-muted\">{form.bio.length}/{BIO_LIMIT}</small>\n              </div>\n              <input\n                name=\"bio\"\n                value={form.bio}\n                onChange={(e) => {\n                  if (e.target.value.length <= BIO_LIMIT) handleChange(e);\n                }}\n                className=\"form-control\"\n                placeholder=\"Short sentence about you\"\n                required\n              />\n            </div>\n            <div className=\"mb-3\">\n              <label className=\"form-label\">Profile photo</label>\n              <div className=\"d-flex align-items-center gap-3\">\n                <div className=\"profile-avatar small\">\n                  {form.profileImage ? <img src={form.profileImage} alt=\"Profile\" /> : <span>?</span>}\n                </div>\n                <div className=\"flex-grow-1\">\n                  <input\n                    type=\"file\"\n                    accept=\"image/*\"\n                    className=\"form-control\"\n                    onChange={handlePhotoUpload}\n                    disabled={uploading}\n                  />\n                  <small className=\"text-muted\">Upload one clear photo (max 5MB).</small>\n                </div>\n              </div>\n            </div>\n            <button className=\"btn btn-primary\" type=\"submit\" disabled={saving}>\n              {saving ? 'Saving...' : 'Save profile'}\n            </button>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}