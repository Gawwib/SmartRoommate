{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Documents\\\\Project\\\\Smart-roommate-app\\\\client\\\\src\\\\components\\\\PropertyFormPage.js\",\n  _s = $RefreshSig$();\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { useLocation, useNavigate, useParams } from 'react-router-dom';\nimport { FaCloudUploadAlt, FaImage, FaTrash } from 'react-icons/fa';\nimport API from '../services/api';\nimport { useRole } from '../context/RoleContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst emptyFormState = {\n  title: '',\n  location: '',\n  price: '',\n  description: '',\n  rooms: '',\n  property_type: ''\n};\nexport default function PropertyFormPage() {\n  _s();\n  const {\n    id\n  } = useParams();\n  const isEditMode = Boolean(id);\n  const navigate = useNavigate();\n  const location = useLocation();\n  const token = localStorage.getItem('token');\n  const {\n    isHost\n  } = useRole();\n  const [form, setForm] = useState(emptyFormState);\n  const [gallery, setGallery] = useState([]);\n  const [mainImage, setMainImage] = useState('');\n  const [loading, setLoading] = useState(isEditMode);\n  const [saving, setSaving] = useState(false);\n  const [uploading, setUploading] = useState(false);\n  const [error, setError] = useState('');\n  const [uploadError, setUploadError] = useState('');\n  const hydrateForm = useCallback(property => {\n    var _property$rooms;\n    setForm({\n      title: property.title,\n      location: property.location,\n      price: property.price,\n      description: property.description || '',\n      rooms: (_property$rooms = property.rooms) !== null && _property$rooms !== void 0 ? _property$rooms : '',\n      property_type: property.property_type || ''\n    });\n    const incomingGallery = Array.isArray(property.gallery_images) ? property.gallery_images.filter(Boolean) : [];\n    const mergedGallery = incomingGallery.length || !property.main_image_url ? incomingGallery : [property.main_image_url, ...incomingGallery];\n    setGallery(mergedGallery);\n    setMainImage(property.main_image_url || mergedGallery[0] || '');\n  }, []);\n  useEffect(() => {\n    if (!token) {\n      navigate('/login');\n    }\n  }, [navigate, token]);\n  useEffect(() => {\n    var _location$state;\n    if (!isEditMode) {\n      setLoading(false);\n      return;\n    }\n    let initialProperty = null;\n    if ((_location$state = location.state) !== null && _location$state !== void 0 && _location$state.property && String(location.state.property.id) === String(id)) {\n      initialProperty = location.state.property;\n      hydrateForm(initialProperty);\n      setLoading(false);\n    }\n    const fetchProperty = async () => {\n      try {\n        setLoading(true);\n        const res = await API.get(`/properties/${id}`);\n        hydrateForm(res.data);\n        setError('');\n      } catch (err) {\n        var _err$response, _err$response$data;\n        console.error(err);\n        setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || 'Unable to load property details.');\n      } finally {\n        setLoading(false);\n      }\n    };\n    if (!initialProperty) fetchProperty();\n  }, [hydrateForm, id, isEditMode, location.state]);\n  const handleChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setForm(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handleFileUpload = async event => {\n    const files = Array.from(event.target.files || []);\n    if (!files.length) return;\n    const formData = new FormData();\n    files.forEach(file => formData.append('images', file));\n    try {\n      var _res$data;\n      setUploadError('');\n      setUploading(true);\n      const res = await API.post('/uploads', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      const uploaded = ((_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.urls) || [];\n      if (uploaded.length) {\n        setGallery(prev => [...prev, ...uploaded]);\n        setMainImage(prevMain => prevMain || uploaded[0] || '');\n      }\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      console.error(err);\n      setUploadError(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.message) || 'Unable to upload images.');\n    } finally {\n      setUploading(false);\n      event.target.value = '';\n    }\n  };\n  const handleRemoveImage = imageUrl => {\n    setGallery(prev => {\n      const nextGallery = prev.filter(img => img !== imageUrl);\n      if (mainImage === imageUrl) {\n        setMainImage(nextGallery[0] || '');\n      }\n      return nextGallery;\n    });\n  };\n  const submitForm = async event => {\n    event.preventDefault();\n    setError('');\n    if (!token) {\n      navigate('/login');\n      return;\n    }\n    if (!form.title.trim() || !form.location.trim()) {\n      setError('Title and location are required.');\n      return;\n    }\n    const priceValue = parseFloat(form.price);\n    if (Number.isNaN(priceValue)) {\n      setError('Please enter a valid monthly price in BAM.');\n      return;\n    }\n    const roomsValue = form.rooms === '' ? null : parseInt(form.rooms, 10);\n    if (roomsValue !== null && Number.isNaN(roomsValue)) {\n      setError('Rooms must be a number.');\n      return;\n    }\n    const payload = {\n      title: form.title.trim(),\n      location: form.location.trim(),\n      price: priceValue,\n      description: form.description.trim(),\n      rooms: roomsValue,\n      property_type: form.property_type,\n      mainImage,\n      galleryImages: gallery\n    };\n    try {\n      setSaving(true);\n      if (isEditMode) {\n        await API.put(`/properties/${id}`, payload);\n      } else {\n        await API.post('/properties', payload);\n      }\n      navigate('/properties');\n    } catch (err) {\n      var _err$response3, _err$response3$data;\n      console.error(err);\n      setError(((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.message) || 'Unable to save property.');\n    } finally {\n      setSaving(false);\n    }\n  };\n  const isFormDisabled = !token || !isHost;\n  const pageTitle = isEditMode ? 'Edit property' : 'Add a property';\n  const subtitle = isEditMode ? 'Update your listing details' : 'Provide details about the space you are offering';\n  const displayGallery = useMemo(() => {\n    if (gallery.length) return gallery;\n    return mainImage ? [mainImage] : [];\n  }, [gallery, mainImage]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"property-detail-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      className: \"btn btn-link ps-0 mb-3 text-decoration-none\",\n      onClick: () => navigate(-1),\n      children: \"\\u2190 Back\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card border-0 shadow-sm mb-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"eyebrow text-muted mb-1\",\n          children: isEditMode ? 'Update listing' : 'Create listing'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"h3\",\n          children: pageTitle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-muted mb-0\",\n          children: subtitle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }, this), isFormDisabled && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-info\",\n      children: [\"You need to be logged in and in host mode to manage listings.\", /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn btn-primary me-2\",\n          onClick: () => navigate('/login'),\n          children: \"Go to login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn btn-outline-secondary\",\n          onClick: () => navigate('/properties'),\n          children: \"Return to properties\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 9\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card border-0 shadow-sm p-4 text-center\",\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"card border-0 shadow-sm p-4\",\n      onSubmit: submitForm,\n      children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-danger\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row g-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Title *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"title\",\n            className: \"form-control\",\n            value: form.title,\n            onChange: handleChange,\n            disabled: isFormDisabled,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Location *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"location\",\n            className: \"form-control\",\n            value: form.location,\n            onChange: handleChange,\n            disabled: isFormDisabled,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Monthly price (BAM) *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"price\",\n            className: \"form-control\",\n            value: form.price,\n            onChange: handleChange,\n            disabled: isFormDisabled,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Rooms\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"rooms\",\n            className: \"form-control\",\n            value: form.rooms,\n            onChange: handleChange,\n            disabled: isFormDisabled\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Type\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"property_type\",\n            className: \"form-select\",\n            value: form.property_type,\n            onChange: handleChange,\n            disabled: isFormDisabled,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Select type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"room\",\n              children: \"Room\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"flat\",\n              children: \"Flat\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"apartment\",\n              children: \"Apartment\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            name: \"description\",\n            className: \"form-control\",\n            rows: \"3\",\n            value: form.description,\n            onChange: handleChange,\n            disabled: isFormDisabled\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label d-flex justify-content-between align-items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"d-flex align-items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(FaCloudUploadAlt, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 19\n              }, this), \"Upload images\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              className: \"text-muted\",\n              children: \"JPG or PNG up to 5MB each\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"upload-input\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              className: \"form-control\",\n              accept: \"image/*\",\n              multiple: true,\n              onChange: handleFileUpload,\n              disabled: isFormDisabled || uploading\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              className: \"text-muted d-block mt-1\",\n              children: uploading ? 'Uploading...' : 'Add multiple files to build out your gallery.'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 17\n            }, this), uploadError && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-danger small mt-1\",\n              children: uploadError\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"image-grid mt-3\",\n            children: displayGallery.length ? displayGallery.map(image => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"uploaded-image-card shadow-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: image,\n                alt: \"Uploaded\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex align-items-center justify-content-between mt-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-check\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    id: `primary-${image}`,\n                    type: \"radio\",\n                    className: \"form-check-input\",\n                    checked: mainImage === image,\n                    onChange: () => setMainImage(image),\n                    disabled: isFormDisabled\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 307,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: `primary-${image}`,\n                    className: \"form-check-label\",\n                    children: \"Primary\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 315,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 306,\n                  columnNumber: 25\n                }, this), !isFormDisabled && /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"btn btn-outline-danger btn-sm\",\n                  onClick: () => handleRemoveImage(image),\n                  children: [/*#__PURE__*/_jsxDEV(FaTrash, {\n                    className: \"me-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 321,\n                    columnNumber: 29\n                  }, this), \"Remove\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 320,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 305,\n                columnNumber: 23\n              }, this)]\n            }, image, true, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 21\n            }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"placeholder-image text-center text-muted\",\n              children: [/*#__PURE__*/_jsxDEV(FaImage, {\n                size: 32,\n                className: \"mb-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"small mt-2 mb-0\",\n                children: \"No images uploaded yet. We'll use a fallback image on your listing.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4 d-flex gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          type: \"submit\",\n          disabled: isFormDisabled || saving,\n          children: saving ? 'Saving...' : isEditMode ? 'Save changes' : 'Create property'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn btn-outline-secondary\",\n          onClick: () => navigate('/properties'),\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 183,\n    columnNumber: 5\n  }, this);\n}\n_s(PropertyFormPage, \"SmWVssQg9M7igopHsGZ0x7fJ6Do=\", false, function () {\n  return [useParams, useNavigate, useLocation, useRole];\n});\n_c = PropertyFormPage;\nvar _c;\n$RefreshReg$(_c, \"PropertyFormPage\");","map":{"version":3,"names":["React","useCallback","useEffect","useMemo","useState","useLocation","useNavigate","useParams","FaCloudUploadAlt","FaImage","FaTrash","API","useRole","jsxDEV","_jsxDEV","emptyFormState","title","location","price","description","rooms","property_type","PropertyFormPage","_s","id","isEditMode","Boolean","navigate","token","localStorage","getItem","isHost","form","setForm","gallery","setGallery","mainImage","setMainImage","loading","setLoading","saving","setSaving","uploading","setUploading","error","setError","uploadError","setUploadError","hydrateForm","property","_property$rooms","incomingGallery","Array","isArray","gallery_images","filter","mergedGallery","length","main_image_url","_location$state","initialProperty","state","String","fetchProperty","res","get","data","err","_err$response","_err$response$data","console","response","message","handleChange","event","name","value","target","prev","handleFileUpload","files","from","formData","FormData","forEach","file","append","_res$data","post","headers","uploaded","urls","prevMain","_err$response2","_err$response2$data","handleRemoveImage","imageUrl","nextGallery","img","submitForm","preventDefault","trim","priceValue","parseFloat","Number","isNaN","roomsValue","parseInt","payload","galleryImages","put","_err$response3","_err$response3$data","isFormDisabled","pageTitle","subtitle","displayGallery","className","children","type","onClick","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","onChange","disabled","required","rows","accept","multiple","map","image","src","alt","checked","htmlFor","size","_c","$RefreshReg$"],"sources":["C:/Users/User/Documents/Project/Smart-roommate-app/client/src/components/PropertyFormPage.js"],"sourcesContent":["import React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { useLocation, useNavigate, useParams } from 'react-router-dom';\nimport { FaCloudUploadAlt, FaImage, FaTrash } from 'react-icons/fa';\nimport API from '../services/api';\nimport { useRole } from '../context/RoleContext';\n\nconst emptyFormState = {\n  title: '',\n  location: '',\n  price: '',\n  description: '',\n  rooms: '',\n  property_type: ''\n};\n\nexport default function PropertyFormPage() {\n  const { id } = useParams();\n  const isEditMode = Boolean(id);\n  const navigate = useNavigate();\n  const location = useLocation();\n  const token = localStorage.getItem('token');\n  const { isHost } = useRole();\n\n  const [form, setForm] = useState(emptyFormState);\n  const [gallery, setGallery] = useState([]);\n  const [mainImage, setMainImage] = useState('');\n  const [loading, setLoading] = useState(isEditMode);\n  const [saving, setSaving] = useState(false);\n  const [uploading, setUploading] = useState(false);\n  const [error, setError] = useState('');\n  const [uploadError, setUploadError] = useState('');\n\n  const hydrateForm = useCallback((property) => {\n    setForm({\n      title: property.title,\n      location: property.location,\n      price: property.price,\n      description: property.description || '',\n      rooms: property.rooms ?? '',\n      property_type: property.property_type || ''\n    });\n    const incomingGallery = Array.isArray(property.gallery_images) ? property.gallery_images.filter(Boolean) : [];\n    const mergedGallery =\n      incomingGallery.length || !property.main_image_url\n        ? incomingGallery\n        : [property.main_image_url, ...incomingGallery];\n    setGallery(mergedGallery);\n    setMainImage(property.main_image_url || mergedGallery[0] || '');\n  }, []);\n\n  useEffect(() => {\n    if (!token) {\n      navigate('/login');\n    }\n  }, [navigate, token]);\n\n  useEffect(() => {\n    if (!isEditMode) {\n      setLoading(false);\n      return;\n    }\n    let initialProperty = null;\n    if (location.state?.property && String(location.state.property.id) === String(id)) {\n      initialProperty = location.state.property;\n      hydrateForm(initialProperty);\n      setLoading(false);\n    }\n    const fetchProperty = async () => {\n      try {\n        setLoading(true);\n        const res = await API.get(`/properties/${id}`);\n        hydrateForm(res.data);\n        setError('');\n      } catch (err) {\n        console.error(err);\n        setError(err.response?.data?.message || 'Unable to load property details.');\n      } finally {\n        setLoading(false);\n      }\n    };\n    if (!initialProperty) fetchProperty();\n  }, [hydrateForm, id, isEditMode, location.state]);\n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n    setForm((prev) => ({ ...prev, [name]: value }));\n  };\n\n  const handleFileUpload = async (event) => {\n    const files = Array.from(event.target.files || []);\n    if (!files.length) return;\n    const formData = new FormData();\n    files.forEach((file) => formData.append('images', file));\n    try {\n      setUploadError('');\n      setUploading(true);\n      const res = await API.post('/uploads', formData, {\n        headers: { 'Content-Type': 'multipart/form-data' }\n      });\n      const uploaded = res.data?.urls || [];\n      if (uploaded.length) {\n        setGallery((prev) => [...prev, ...uploaded]);\n        setMainImage((prevMain) => prevMain || uploaded[0] || '');\n      }\n    } catch (err) {\n      console.error(err);\n      setUploadError(err.response?.data?.message || 'Unable to upload images.');\n    } finally {\n      setUploading(false);\n      event.target.value = '';\n    }\n  };\n\n  const handleRemoveImage = (imageUrl) => {\n    setGallery((prev) => {\n      const nextGallery = prev.filter((img) => img !== imageUrl);\n      if (mainImage === imageUrl) {\n        setMainImage(nextGallery[0] || '');\n      }\n      return nextGallery;\n    });\n  };\n\n  const submitForm = async (event) => {\n    event.preventDefault();\n    setError('');\n    if (!token) {\n      navigate('/login');\n      return;\n    }\n    if (!form.title.trim() || !form.location.trim()) {\n      setError('Title and location are required.');\n      return;\n    }\n    const priceValue = parseFloat(form.price);\n    if (Number.isNaN(priceValue)) {\n      setError('Please enter a valid monthly price in BAM.');\n      return;\n    }\n    const roomsValue = form.rooms === '' ? null : parseInt(form.rooms, 10);\n    if (roomsValue !== null && Number.isNaN(roomsValue)) {\n      setError('Rooms must be a number.');\n      return;\n    }\n\n    const payload = {\n      title: form.title.trim(),\n      location: form.location.trim(),\n      price: priceValue,\n      description: form.description.trim(),\n      rooms: roomsValue,\n      property_type: form.property_type,\n      mainImage,\n      galleryImages: gallery\n    };\n\n    try {\n      setSaving(true);\n      if (isEditMode) {\n        await API.put(`/properties/${id}`, payload);\n      } else {\n        await API.post('/properties', payload);\n      }\n      navigate('/properties');\n    } catch (err) {\n      console.error(err);\n      setError(err.response?.data?.message || 'Unable to save property.');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const isFormDisabled = !token || !isHost;\n  const pageTitle = isEditMode ? 'Edit property' : 'Add a property';\n  const subtitle = isEditMode ? 'Update your listing details' : 'Provide details about the space you are offering';\n\n  const displayGallery = useMemo(() => {\n    if (gallery.length) return gallery;\n    return mainImage ? [mainImage] : [];\n  }, [gallery, mainImage]);\n\n  return (\n    <div className=\"property-detail-page\">\n      <button type=\"button\" className=\"btn btn-link ps-0 mb-3 text-decoration-none\" onClick={() => navigate(-1)}>\n        &larr; Back\n      </button>\n      <div className=\"card border-0 shadow-sm mb-4\">\n        <div className=\"card-body\">\n          <p className=\"eyebrow text-muted mb-1\">{isEditMode ? 'Update listing' : 'Create listing'}</p>\n          <h1 className=\"h3\">{pageTitle}</h1>\n          <p className=\"text-muted mb-0\">{subtitle}</p>\n        </div>\n      </div>\n\n      {isFormDisabled && (\n        <div className=\"alert alert-info\">\n          You need to be logged in and in host mode to manage listings.\n          <div className=\"mt-2\">\n            <button type=\"button\" className=\"btn btn-primary me-2\" onClick={() => navigate('/login')}>\n              Go to login\n            </button>\n            <button type=\"button\" className=\"btn btn-outline-secondary\" onClick={() => navigate('/properties')}>\n              Return to properties\n            </button>\n          </div>\n        </div>\n      )}\n\n      {loading ? (\n        <div className=\"card border-0 shadow-sm p-4 text-center\">Loading...</div>\n      ) : (\n        <form className=\"card border-0 shadow-sm p-4\" onSubmit={submitForm}>\n          {error && <div className=\"alert alert-danger\">{error}</div>}\n          <div className=\"row g-3\">\n            <div className=\"col-md-6\">\n              <label className=\"form-label\">Title *</label>\n              <input\n                name=\"title\"\n                className=\"form-control\"\n                value={form.title}\n                onChange={handleChange}\n                disabled={isFormDisabled}\n                required\n              />\n            </div>\n            <div className=\"col-md-6\">\n              <label className=\"form-label\">Location *</label>\n              <input\n                name=\"location\"\n                className=\"form-control\"\n                value={form.location}\n                onChange={handleChange}\n                disabled={isFormDisabled}\n                required\n              />\n            </div>\n            <div className=\"col-md-4\">\n              <label className=\"form-label\">Monthly price (BAM) *</label>\n              <input\n                name=\"price\"\n                className=\"form-control\"\n                value={form.price}\n                onChange={handleChange}\n                disabled={isFormDisabled}\n                required\n              />\n            </div>\n            <div className=\"col-md-4\">\n              <label className=\"form-label\">Rooms</label>\n              <input name=\"rooms\" className=\"form-control\" value={form.rooms} onChange={handleChange} disabled={isFormDisabled} />\n            </div>\n            <div className=\"col-md-4\">\n              <label className=\"form-label\">Type</label>\n              <select\n                name=\"property_type\"\n                className=\"form-select\"\n                value={form.property_type}\n                onChange={handleChange}\n                disabled={isFormDisabled}\n              >\n                <option value=\"\">Select type</option>\n                <option value=\"room\">Room</option>\n                <option value=\"flat\">Flat</option>\n                <option value=\"apartment\">Apartment</option>\n              </select>\n            </div>\n            <div className=\"col-12\">\n              <label className=\"form-label\">Description</label>\n              <textarea\n                name=\"description\"\n                className=\"form-control\"\n                rows=\"3\"\n                value={form.description}\n                onChange={handleChange}\n                disabled={isFormDisabled}\n              ></textarea>\n            </div>\n            <div className=\"col-12\">\n              <label className=\"form-label d-flex justify-content-between align-items-center\">\n                <span className=\"d-flex align-items-center gap-2\">\n                  <FaCloudUploadAlt />\n                  Upload images\n                </span>\n                <small className=\"text-muted\">JPG or PNG up to 5MB each</small>\n              </label>\n              <div className=\"upload-input\">\n                <input\n                  type=\"file\"\n                  className=\"form-control\"\n                  accept=\"image/*\"\n                  multiple\n                  onChange={handleFileUpload}\n                  disabled={isFormDisabled || uploading}\n                />\n                <small className=\"text-muted d-block mt-1\">\n                  {uploading ? 'Uploading...' : 'Add multiple files to build out your gallery.'}\n                </small>\n                {uploadError && <div className=\"text-danger small mt-1\">{uploadError}</div>}\n              </div>\n              <div className=\"image-grid mt-3\">\n                {displayGallery.length ? (\n                  displayGallery.map((image) => (\n                    <div key={image} className=\"uploaded-image-card shadow-sm\">\n                      <img src={image} alt=\"Uploaded\" />\n                      <div className=\"d-flex align-items-center justify-content-between mt-2\">\n                        <div className=\"form-check\">\n                          <input\n                            id={`primary-${image}`}\n                            type=\"radio\"\n                            className=\"form-check-input\"\n                            checked={mainImage === image}\n                            onChange={() => setMainImage(image)}\n                            disabled={isFormDisabled}\n                          />\n                          <label htmlFor={`primary-${image}`} className=\"form-check-label\">\n                            Primary\n                          </label>\n                        </div>\n                        {!isFormDisabled && (\n                          <button type=\"button\" className=\"btn btn-outline-danger btn-sm\" onClick={() => handleRemoveImage(image)}>\n                            <FaTrash className=\"me-1\" />\n                            Remove\n                          </button>\n                        )}\n                      </div>\n                    </div>\n                  ))\n                ) : (\n                  <div className=\"placeholder-image text-center text-muted\">\n                    <FaImage size={32} className=\"mb-2\" />\n                    <p className=\"small mt-2 mb-0\">No images uploaded yet. We&apos;ll use a fallback image on your listing.</p>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n          <div className=\"mt-4 d-flex gap-2\">\n            <button className=\"btn btn-primary\" type=\"submit\" disabled={isFormDisabled || saving}>\n              {saving ? 'Saving...' : isEditMode ? 'Save changes' : 'Create property'}\n            </button>\n            <button type=\"button\" className=\"btn btn-outline-secondary\" onClick={() => navigate('/properties')}>\n              Cancel\n            </button>\n          </div>\n        </form>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}