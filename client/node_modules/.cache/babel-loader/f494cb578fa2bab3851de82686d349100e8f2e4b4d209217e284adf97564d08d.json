{"ast":null,"code":"import _objectSpread from\"C:/Users/User/Documents/Project/Smart-roommate-app/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useMemo}from'react';import{useNavigate}from'react-router-dom';import API from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const HABIT_OPTIONS=['Cinema','Football','Basketball','Tennis','Running','Cycling','Hiking','Swimming','Gym / Fitness','Yoga','Pilates','Cooking','Baking','Coffee shops','Tea lover','Wine tasting','Craft beer','Board games','Card games','Video games','Esports','Anime','Manga','Reading','Writing','Photography','Videography','Art galleries','Museums','Concerts','Live music','Festivals','Travel','Road trips','Camping','Beach days','Shopping','Thrifting','Fashion','Interior design','DIY projects','Gardening','Plants','Pets / Dogs','Pets / Cats','Volunteering','Meditation','Language learning','Tech & gadgets','Podcasts','Stand-up comedy','Dancing'];const MIN_HABITS=3;const MAX_HABITS=8;const parseHabits=value=>(value||'').split(',').map(item=>item.trim()).filter(Boolean);const formatHabits=list=>list.join(', ');const calculateAge=birthdate=>{if(!birthdate)return null;const dob=new Date(birthdate);if(Number.isNaN(dob.getTime()))return null;const diff=Date.now()-dob.getTime();const ageDate=new Date(diff);return Math.abs(ageDate.getUTCFullYear()-1970);};export default function Profile(){const[profile,setProfile]=useState(null);const[form,setForm]=useState({birthdate:'',gender:'',location:'',habits:[]});const[msg,setMsg]=useState('');const[error,setError]=useState('');const[loading,setLoading]=useState(true);const[saving,setSaving]=useState(false);const navigate=useNavigate();useEffect(()=>{const load=async()=>{try{const res=await API.get('/users/me');const habitsList=parseHabits(res.data.habits);setProfile(res.data);setForm({birthdate:res.data.birthdate?res.data.birthdate.slice(0,10):'',gender:res.data.gender||'',location:res.data.location||'',habits:habitsList});}catch(err){var _err$response;if(((_err$response=err.response)===null||_err$response===void 0?void 0:_err$response.status)===401){setError('Please log in to view your profile.');}else{setError('Unable to load your profile right now.');}}finally{setLoading(false);}};load();},[]);const handleHabitToggle=habit=>{setForm(prev=>{const alreadySelected=prev.habits.includes(habit);if(alreadySelected){return _objectSpread(_objectSpread({},prev),{},{habits:prev.habits.filter(h=>h!==habit)});}if(prev.habits.length>=MAX_HABITS)return prev;return _objectSpread(_objectSpread({},prev),{},{habits:[...prev.habits,habit]});});};const handleChange=e=>setForm(_objectSpread(_objectSpread({},form),{},{[e.target.name]:e.target.value}));const handleSubmit=async e=>{e.preventDefault();setMsg('');setError('');if(form.habits.length<MIN_HABITS||form.habits.length>MAX_HABITS){setError(\"Choose at least \".concat(MIN_HABITS,\" and at most \").concat(MAX_HABITS,\" interests.\"));return;}if(!form.birthdate){setError('Please add your birthdate so we can show your age.');return;}const age=calculateAge(form.birthdate);const payload={birthdate:form.birthdate,age,gender:form.gender||null,location:form.location||'',budget:null,habits:formatHabits(form.habits)};try{setSaving(true);await API.put('/users/me',payload);setMsg('Profile updated');setProfile(prev=>_objectSpread(_objectSpread({},prev),payload));}catch(err){var _err$response2,_err$response2$data;console.error(err);setError(((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.message)||'Unable to update profile right now.');}finally{setSaving(false);}};const ageDisplay=useMemo(()=>calculateAge(form.birthdate||(profile===null||profile===void 0?void 0:profile.birthdate)),[form.birthdate,profile]);if(loading)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});if(error&&!profile){return/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-warning d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsx(\"span\",{children:error}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary btn-sm\",onClick:()=>navigate('/login'),children:\"Go to login\"})]});}if(!profile)return null;return/*#__PURE__*/_jsxs(\"div\",{className:\"row g-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-7\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card border-0 shadow-sm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"eyebrow text-uppercase mb-1\",children:\"Your profile\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"h4 mb-3\",children:\"Personal details\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"mb-1\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Name:\"}),\" \",profile.name]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mb-1\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),\" \",profile.email]}),ageDisplay!==null&&/*#__PURE__*/_jsxs(\"p\",{className:\"mb-1\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Age:\"}),\" \",ageDisplay,\" years\"]}),profile.location&&/*#__PURE__*/_jsxs(\"p\",{className:\"mb-1\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Location:\"}),\" \",profile.location]}),form.habits.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"mb-1\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Interests:\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"pill-grid\",children:form.habits.map(habit=>/*#__PURE__*/_jsx(\"span\",{className:\"pill pill-selected\",children:habit},habit))})]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card border-0 shadow-sm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"eyebrow text-uppercase mb-1\",children:\"Improve your matches\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"h5\",children:\"Update profile\"}),msg&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-info mt-2\",children:msg}),error&&profile&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-warning mt-2\",children:error}),/*#__PURE__*/_jsxs(\"form\",{className:\"mt-3\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Birthdate *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"birthdate\",value:form.birthdate,onChange:handleChange,className:\"form-control\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Gender\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"gender\",value:form.gender,onChange:handleChange,className:\"form-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select\"}),/*#__PURE__*/_jsx(\"option\",{value:\"male\",children:\"Male\"}),/*#__PURE__*/_jsx(\"option\",{value:\"female\",children:\"Female\"}),/*#__PURE__*/_jsx(\"option\",{value:\"other\",children:\"Prefer not to say\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Location\"}),/*#__PURE__*/_jsx(\"input\",{name:\"location\",value:form.location,onChange:handleChange,className:\"form-control\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center mb-1\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"form-label mb-0\",children:[\"Interests (select \",MIN_HABITS,\"-\",MAX_HABITS,\") *\"]}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[form.habits.length,\" selected\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"pill-grid selectable\",children:HABIT_OPTIONS.map(option=>{const selected=form.habits.includes(option);const disabled=!selected&&form.habits.length>=MAX_HABITS;return/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"pill \".concat(selected?'pill-selected':''),onClick:()=>handleHabitToggle(option),disabled:disabled,children:option},option);})}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"We\\u2019ll use these to improve AI roommate compatibility. Pick what genuinely matters to you.\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",type:\"submit\",disabled:saving,children:saving?'Saving...':'Save profile'})]})]})})})]});}","map":{"version":3,"names":["React","useState","useEffect","useMemo","useNavigate","API","jsx","_jsx","jsxs","_jsxs","HABIT_OPTIONS","MIN_HABITS","MAX_HABITS","parseHabits","value","split","map","item","trim","filter","Boolean","formatHabits","list","join","calculateAge","birthdate","dob","Date","Number","isNaN","getTime","diff","now","ageDate","Math","abs","getUTCFullYear","Profile","profile","setProfile","form","setForm","gender","location","habits","msg","setMsg","error","setError","loading","setLoading","saving","setSaving","navigate","load","res","get","habitsList","data","slice","err","_err$response","response","status","handleHabitToggle","habit","prev","alreadySelected","includes","_objectSpread","h","length","handleChange","e","target","name","handleSubmit","preventDefault","concat","age","payload","budget","put","_err$response2","_err$response2$data","console","message","ageDisplay","children","className","type","onClick","email","onSubmit","onChange","required","option","selected","disabled"],"sources":["C:/Users/User/Documents/Project/Smart-roommate-app/client/src/components/Profile.js"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport API from '../services/api';\n\nconst HABIT_OPTIONS = [\n  'Cinema',\n  'Football',\n  'Basketball',\n  'Tennis',\n  'Running',\n  'Cycling',\n  'Hiking',\n  'Swimming',\n  'Gym / Fitness',\n  'Yoga',\n  'Pilates',\n  'Cooking',\n  'Baking',\n  'Coffee shops',\n  'Tea lover',\n  'Wine tasting',\n  'Craft beer',\n  'Board games',\n  'Card games',\n  'Video games',\n  'Esports',\n  'Anime',\n  'Manga',\n  'Reading',\n  'Writing',\n  'Photography',\n  'Videography',\n  'Art galleries',\n  'Museums',\n  'Concerts',\n  'Live music',\n  'Festivals',\n  'Travel',\n  'Road trips',\n  'Camping',\n  'Beach days',\n  'Shopping',\n  'Thrifting',\n  'Fashion',\n  'Interior design',\n  'DIY projects',\n  'Gardening',\n  'Plants',\n  'Pets / Dogs',\n  'Pets / Cats',\n  'Volunteering',\n  'Meditation',\n  'Language learning',\n  'Tech & gadgets',\n  'Podcasts',\n  'Stand-up comedy',\n  'Dancing'\n];\n\nconst MIN_HABITS = 3;\nconst MAX_HABITS = 8;\n\nconst parseHabits = (value) =>\n  (value || '')\n    .split(',')\n    .map((item) => item.trim())\n    .filter(Boolean);\n\nconst formatHabits = (list) => list.join(', ');\n\nconst calculateAge = (birthdate) => {\n  if (!birthdate) return null;\n  const dob = new Date(birthdate);\n  if (Number.isNaN(dob.getTime())) return null;\n  const diff = Date.now() - dob.getTime();\n  const ageDate = new Date(diff);\n  return Math.abs(ageDate.getUTCFullYear() - 1970);\n};\n\nexport default function Profile() {\n  const [profile, setProfile] = useState(null);\n  const [form, setForm] = useState({ birthdate: '', gender: '', location: '', habits: [] });\n  const [msg, setMsg] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const load = async () => {\n      try {\n        const res = await API.get('/users/me');\n        const habitsList = parseHabits(res.data.habits);\n        setProfile(res.data);\n        setForm({\n          birthdate: res.data.birthdate ? res.data.birthdate.slice(0, 10) : '',\n          gender: res.data.gender || '',\n          location: res.data.location || '',\n          habits: habitsList\n        });\n      } catch (err) {\n        if (err.response?.status === 401) {\n          setError('Please log in to view your profile.');\n        } else {\n          setError('Unable to load your profile right now.');\n        }\n      } finally {\n        setLoading(false);\n      }\n    };\n    load();\n  }, []);\n\n  const handleHabitToggle = (habit) => {\n    setForm((prev) => {\n      const alreadySelected = prev.habits.includes(habit);\n      if (alreadySelected) {\n        return { ...prev, habits: prev.habits.filter((h) => h !== habit) };\n      }\n      if (prev.habits.length >= MAX_HABITS) return prev;\n      return { ...prev, habits: [...prev.habits, habit] };\n    });\n  };\n\n  const handleChange = (e) => setForm({ ...form, [e.target.name]: e.target.value });\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setMsg('');\n    setError('');\n\n    if (form.habits.length < MIN_HABITS || form.habits.length > MAX_HABITS) {\n      setError(`Choose at least ${MIN_HABITS} and at most ${MAX_HABITS} interests.`);\n      return;\n    }\n\n    if (!form.birthdate) {\n      setError('Please add your birthdate so we can show your age.');\n      return;\n    }\n\n    const age = calculateAge(form.birthdate);\n    const payload = {\n      birthdate: form.birthdate,\n      age,\n      gender: form.gender || null,\n      location: form.location || '',\n      budget: null,\n      habits: formatHabits(form.habits)\n    };\n\n    try {\n      setSaving(true);\n      await API.put('/users/me', payload);\n      setMsg('Profile updated');\n      setProfile((prev) => ({ ...prev, ...payload }));\n    } catch (err) {\n      console.error(err);\n      setError(err.response?.data?.message || 'Unable to update profile right now.');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const ageDisplay = useMemo(() => calculateAge(form.birthdate || profile?.birthdate), [form.birthdate, profile]);\n\n  if (loading) return <div>Loading...</div>;\n\n  if (error && !profile) {\n    return (\n      <div className=\"alert alert-warning d-flex justify-content-between align-items-center\">\n        <span>{error}</span>\n        <button type=\"button\" className=\"btn btn-primary btn-sm\" onClick={() => navigate('/login')}>\n          Go to login\n        </button>\n      </div>\n    );\n  }\n\n  if (!profile) return null;\n\n  return (\n    <div className=\"row g-4\">\n      <div className=\"col-lg-7\">\n        <div className=\"card border-0 shadow-sm\">\n          <div className=\"card-body\">\n            <p className=\"eyebrow text-uppercase mb-1\">Your profile</p>\n            <h2 className=\"h4 mb-3\">Personal details</h2>\n            <p className=\"mb-1\"><strong>Name:</strong> {profile.name}</p>\n            <p className=\"mb-1\"><strong>Email:</strong> {profile.email}</p>\n            {ageDisplay !== null && <p className=\"mb-1\"><strong>Age:</strong> {ageDisplay} years</p>}\n            {profile.location && <p className=\"mb-1\"><strong>Location:</strong> {profile.location}</p>}\n            {form.habits.length > 0 && (\n              <div className=\"mt-3\">\n                <p className=\"mb-1\"><strong>Interests:</strong></p>\n                <div className=\"pill-grid\">\n                  {form.habits.map((habit) => (\n                    <span key={habit} className=\"pill pill-selected\">{habit}</span>\n                  ))}\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n      <div className=\"col-lg-5\">\n        <div className=\"card border-0 shadow-sm\">\n          <div className=\"card-body\">\n            <p className=\"eyebrow text-uppercase mb-1\">Improve your matches</p>\n            <h3 className=\"h5\">Update profile</h3>\n            {msg && <div className=\"alert alert-info mt-2\">{msg}</div>}\n            {error && profile && <div className=\"alert alert-warning mt-2\">{error}</div>}\n            <form className=\"mt-3\" onSubmit={handleSubmit}>\n              <div className=\"mb-3\">\n                <label className=\"form-label\">Birthdate *</label>\n                <input\n                  type=\"date\"\n                  name=\"birthdate\"\n                  value={form.birthdate}\n                  onChange={handleChange}\n                  className=\"form-control\"\n                  required\n                />\n              </div>\n              <div className=\"mb-3\">\n                <label className=\"form-label\">Gender</label>\n                <select name=\"gender\" value={form.gender} onChange={handleChange} className=\"form-select\">\n                  <option value=\"\">Select</option>\n                  <option value=\"male\">Male</option>\n                  <option value=\"female\">Female</option>\n                  <option value=\"other\">Prefer not to say</option>\n                </select>\n              </div>\n              <div className=\"mb-3\">\n                <label className=\"form-label\">Location</label>\n                <input name=\"location\" value={form.location} onChange={handleChange} className=\"form-control\" />\n              </div>\n              <div className=\"mb-3\">\n                <div className=\"d-flex justify-content-between align-items-center mb-1\">\n                  <label className=\"form-label mb-0\">Interests (select {MIN_HABITS}-{MAX_HABITS}) *</label>\n                  <small className=\"text-muted\">{form.habits.length} selected</small>\n                </div>\n                <div className=\"pill-grid selectable\">\n                  {HABIT_OPTIONS.map((option) => {\n                    const selected = form.habits.includes(option);\n                    const disabled = !selected && form.habits.length >= MAX_HABITS;\n                    return (\n                      <button\n                        type=\"button\"\n                        key={option}\n                        className={`pill ${selected ? 'pill-selected' : ''}`}\n                        onClick={() => handleHabitToggle(option)}\n                        disabled={disabled}\n                      >\n                        {option}\n                      </button>\n                    );\n                  })}\n                </div>\n                <small className=\"text-muted\">\n                  Weâ€™ll use these to improve AI roommate compatibility. Pick what genuinely matters to you.\n                </small>\n              </div>\n              <button className=\"btn btn-primary\" type=\"submit\" disabled={saving}>\n                {saving ? 'Saving...' : 'Save profile'}\n              </button>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}