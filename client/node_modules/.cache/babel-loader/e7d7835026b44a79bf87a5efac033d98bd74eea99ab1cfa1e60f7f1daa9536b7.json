{"ast":null,"code":"import React,{useEffect,useMemo,useState}from'react';import{useNavigate}from'react-router-dom';import{FaBed,FaCoins,FaImages,FaMapMarkerAlt,FaPen,FaTrash}from'react-icons/fa';import API from'../services/api';import{useRole}from'../context/RoleContext';import{DEFAULT_PROPERTY_IMAGE}from'../constants/propertyMedia';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const priceFormatter=new Intl.NumberFormat('bs-BA',{style:'currency',currency:'BAM',maximumFractionDigits:0});const formatPrice=value=>priceFormatter.format(Number(value)||0);export default function Properties(){const[properties,setProperties]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState('');const[currentUser,setCurrentUser]=useState(null);const navigate=useNavigate();const token=localStorage.getItem('token');const isAuthenticated=Boolean(token);const{isHost,isTransitioning,pendingMode}=useRole();const canManageListings=isAuthenticated&&isHost;useEffect(()=>{const fetchProperties=async()=>{try{setLoading(true);const res=await API.get('/properties');setProperties(res.data);setError('');}catch(err){console.error(err);setError('Unable to load properties right now.');}finally{setLoading(false);}};fetchProperties();},[]);useEffect(()=>{const loadUser=async()=>{if(!token){setCurrentUser(null);return;}try{const res=await API.get('/users/me');setCurrentUser(res.data);}catch(err){var _err$response;if(((_err$response=err.response)===null||_err$response===void 0?void 0:_err$response.status)===401){setCurrentUser(null);}else{console.error(err);}}};loadUser();},[token]);const handleDelete=async propertyId=>{if(!token){navigate('/login');return;}if(!window.confirm('Delete this property?'))return;try{await API.delete(\"/properties/\".concat(propertyId));setProperties(prev=>prev.filter(p=>p.id!==propertyId));setError('');}catch(err){var _err$response2,_err$response2$data;console.error(err);setError(((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.message)||'Unable to delete property.');}};const ownedByCurrentUser=property=>currentUser&&property.user_id===currentUser.id;const highlightCopy=useMemo(()=>properties.length?\"We found \".concat(properties.length,\" \").concat(properties.length===1?'place':'places',\" across the community.\"):'No spaces have been listed yet — be the first to add yours.',[properties.length]);const openDetails=property=>navigate(\"/properties/\".concat(property.id),{state:{property}});const openCreatePage=()=>navigate('/properties/new');const openEditPage=property=>navigate(\"/properties/\".concat(property.id,\"/edit\"),{state:{property}});return/*#__PURE__*/_jsxs(\"div\",{className:\"properties-page\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"properties-hero gradient-card\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"eyebrow text-uppercase fw-semibold mb-2\",children:\"Explore\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"properties-title mb-3\",children:\"Beautiful shared homes curated for modern roommates\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-4 text-light-emphasis\",children:highlightCopy}),canManageListings&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-light btn-lg shadow-sm\",onClick:openCreatePage,children:\"List a new space\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"properties-hero-meta\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"hero-number\",children:properties.length||'00'}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-0 text-light\",children:\"active listings\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"hero-number\",children:properties.filter(p=>{var _p$property_type;return((_p$property_type=p.property_type)===null||_p$property_type===void 0?void 0:_p$property_type.toLowerCase())==='apartment';}).length||'0'}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-0 text-light\",children:\"city apartments\"})]})]})]}),isAuthenticated&&isTransitioning&&pendingMode==='host'&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-secondary shadow-sm mt-4\",children:\"Loading host tools for you. This will only take a moment.\"}),isAuthenticated&&!isHost&&!isTransitioning&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-info shadow-sm mt-4\",children:\"Switch to host mode to add new listings or edit your properties.\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger shadow-sm mt-4\",children:error}),/*#__PURE__*/_jsx(\"section\",{className:\"properties-grid-wrapper mt-4\",children:loading?/*#__PURE__*/_jsx(\"div\",{className:\"card border-0 shadow-sm p-4 text-center\",children:\"Loading properties...\"}):properties.length?/*#__PURE__*/_jsx(\"div\",{className:\"property-grid\",children:properties.map(property=>{const galleryImages=Array.isArray(property.gallery_images)?property.gallery_images.filter(Boolean):[];const heroImage=property.main_image_url||galleryImages[0]||DEFAULT_PROPERTY_IMAGE;const galleryCount=galleryImages.length||(property.main_image_url?1:0);return/*#__PURE__*/_jsxs(\"article\",{className:\"property-card shadow-sm\",role:\"button\",tabIndex:0,onClick:()=>openDetails(property),onKeyDown:e=>{if(e.key==='Enter')openDetails(property);},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"property-card__media\",children:[/*#__PURE__*/_jsx(\"img\",{src:heroImage,alt:property.title,loading:\"lazy\"}),/*#__PURE__*/_jsx(\"span\",{className:\"property-card__type\",children:property.property_type||'Listing'}),/*#__PURE__*/_jsx(\"div\",{className:\"property-card__overlay\",children:/*#__PURE__*/_jsx(\"span\",{children:\"View details\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"property-card__body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-start gap-2 mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"property-card__title\",children:property.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"property-card__location\",children:[/*#__PURE__*/_jsx(FaMapMarkerAlt,{className:\"me-1 text-primary\"}),property.location]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"property-card__price\",children:[/*#__PURE__*/_jsx(FaCoins,{className:\"me-1\"}),formatPrice(property.price),/*#__PURE__*/_jsx(\"span\",{className:\"text-muted\",children:\"/mo\"})]})]}),property.description&&/*#__PURE__*/_jsx(\"p\",{className:\"property-card__description\",children:property.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"property-card__meta\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(FaBed,{className:\"me-1\"}),property.rooms?\"\".concat(property.rooms,\" rooms\"):'Flexible rooms']}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(FaImages,{className:\"me-1\"}),galleryCount?\"\".concat(galleryCount,\" photos\"):'No photos']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"property-card__footer\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Hosted by \",property.owner_name]}),ownedByCurrentUser(property)&&canManageListings&&/*#__PURE__*/_jsxs(\"div\",{className:\"property-card__actions\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn btn-outline-primary btn-sm\",onClick:event=>{event.stopPropagation();openEditPage(property);},children:[/*#__PURE__*/_jsx(FaPen,{className:\"me-1\"}),\"Edit\"]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn btn-outline-danger btn-sm\",onClick:event=>{event.stopPropagation();handleDelete(property.id);},children:[/*#__PURE__*/_jsx(FaTrash,{className:\"me-1\"}),\"Delete\"]})]})]})]})]},property.id);})}):/*#__PURE__*/_jsx(\"div\",{className:\"card border-0 shadow-sm p-4 text-center text-muted\",children:\"There are no properties yet. Hosts can be the first to share a beautiful space.\"})})]});}","map":{"version":3,"names":["React","useEffect","useMemo","useState","useNavigate","FaBed","FaCoins","FaImages","FaMapMarkerAlt","FaPen","FaTrash","API","useRole","DEFAULT_PROPERTY_IMAGE","jsx","_jsx","jsxs","_jsxs","priceFormatter","Intl","NumberFormat","style","currency","maximumFractionDigits","formatPrice","value","format","Number","Properties","properties","setProperties","loading","setLoading","error","setError","currentUser","setCurrentUser","navigate","token","localStorage","getItem","isAuthenticated","Boolean","isHost","isTransitioning","pendingMode","canManageListings","fetchProperties","res","get","data","err","console","loadUser","_err$response","response","status","handleDelete","propertyId","window","confirm","delete","concat","prev","filter","p","id","_err$response2","_err$response2$data","message","ownedByCurrentUser","property","user_id","highlightCopy","length","openDetails","state","openCreatePage","openEditPage","className","children","type","onClick","_p$property_type","property_type","toLowerCase","map","galleryImages","Array","isArray","gallery_images","heroImage","main_image_url","galleryCount","role","tabIndex","onKeyDown","e","key","src","alt","title","location","price","description","rooms","owner_name","event","stopPropagation"],"sources":["C:/Users/User/Documents/Project/Smart-roommate-app/client/src/components/Properties.js"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { FaBed, FaCoins, FaImages, FaMapMarkerAlt, FaPen, FaTrash } from 'react-icons/fa';\nimport API from '../services/api';\nimport { useRole } from '../context/RoleContext';\nimport { DEFAULT_PROPERTY_IMAGE } from '../constants/propertyMedia';\n\nconst priceFormatter = new Intl.NumberFormat('bs-BA', {\n  style: 'currency',\n  currency: 'BAM',\n  maximumFractionDigits: 0\n});\n\nconst formatPrice = (value) => priceFormatter.format(Number(value) || 0);\n\nexport default function Properties() {\n  const [properties, setProperties] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [currentUser, setCurrentUser] = useState(null);\n  const navigate = useNavigate();\n  const token = localStorage.getItem('token');\n  const isAuthenticated = Boolean(token);\n  const { isHost, isTransitioning, pendingMode } = useRole();\n  const canManageListings = isAuthenticated && isHost;\n\n  useEffect(() => {\n    const fetchProperties = async () => {\n      try {\n        setLoading(true);\n        const res = await API.get('/properties');\n        setProperties(res.data);\n        setError('');\n      } catch (err) {\n        console.error(err);\n        setError('Unable to load properties right now.');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchProperties();\n  }, []);\n\n  useEffect(() => {\n    const loadUser = async () => {\n      if (!token) {\n        setCurrentUser(null);\n        return;\n      }\n\n      try {\n        const res = await API.get('/users/me');\n        setCurrentUser(res.data);\n      } catch (err) {\n        if (err.response?.status === 401) {\n          setCurrentUser(null);\n        } else {\n          console.error(err);\n        }\n      }\n    };\n\n    loadUser();\n  }, [token]);\n\n  const handleDelete = async (propertyId) => {\n    if (!token) {\n      navigate('/login');\n      return;\n    }\n    if (!window.confirm('Delete this property?')) return;\n\n    try {\n      await API.delete(`/properties/${propertyId}`);\n      setProperties((prev) => prev.filter((p) => p.id !== propertyId));\n      setError('');\n    } catch (err) {\n      console.error(err);\n      setError(err.response?.data?.message || 'Unable to delete property.');\n    }\n  };\n\n  const ownedByCurrentUser = (property) => currentUser && property.user_id === currentUser.id;\n\n  const highlightCopy = useMemo(\n    () =>\n      properties.length\n        ? `We found ${properties.length} ${properties.length === 1 ? 'place' : 'places'} across the community.`\n        : 'No spaces have been listed yet — be the first to add yours.',\n    [properties.length]\n  );\n\n  const openDetails = (property) => navigate(`/properties/${property.id}`, { state: { property } });\n  const openCreatePage = () => navigate('/properties/new');\n  const openEditPage = (property) => navigate(`/properties/${property.id}/edit`, { state: { property } });\n\n  return (\n    <div className=\"properties-page\">\n      <section className=\"properties-hero gradient-card\">\n        <div>\n          <p className=\"eyebrow text-uppercase fw-semibold mb-2\">Explore</p>\n          <h1 className=\"properties-title mb-3\">Beautiful shared homes curated for modern roommates</h1>\n          <p className=\"mb-4 text-light-emphasis\">{highlightCopy}</p>\n          {canManageListings && (\n            <button type=\"button\" className=\"btn btn-light btn-lg shadow-sm\" onClick={openCreatePage}>\n              List a new space\n            </button>\n          )}\n        </div>\n        <div className=\"properties-hero-meta\">\n          <div>\n            <span className=\"hero-number\">{properties.length || '00'}</span>\n            <p className=\"mb-0 text-light\">active listings</p>\n          </div>\n          <div>\n            <span className=\"hero-number\">\n              {properties.filter((p) => p.property_type?.toLowerCase() === 'apartment').length || '0'}\n            </span>\n            <p className=\"mb-0 text-light\">city apartments</p>\n          </div>\n        </div>\n      </section>\n\n      {isAuthenticated && isTransitioning && pendingMode === 'host' && (\n        <div className=\"alert alert-secondary shadow-sm mt-4\">Loading host tools for you. This will only take a moment.</div>\n      )}\n      {isAuthenticated && !isHost && !isTransitioning && (\n        <div className=\"alert alert-info shadow-sm mt-4\">Switch to host mode to add new listings or edit your properties.</div>\n      )}\n      {error && <div className=\"alert alert-danger shadow-sm mt-4\">{error}</div>}\n\n      <section className=\"properties-grid-wrapper mt-4\">\n        {loading ? (\n          <div className=\"card border-0 shadow-sm p-4 text-center\">Loading properties...</div>\n        ) : properties.length ? (\n          <div className=\"property-grid\">\n            {properties.map((property) => {\n              const galleryImages = Array.isArray(property.gallery_images)\n                ? property.gallery_images.filter(Boolean)\n                : [];\n              const heroImage = property.main_image_url || galleryImages[0] || DEFAULT_PROPERTY_IMAGE;\n              const galleryCount = galleryImages.length || (property.main_image_url ? 1 : 0);\n\n              return (\n                <article\n                  key={property.id}\n                  className=\"property-card shadow-sm\"\n                  role=\"button\"\n                  tabIndex={0}\n                  onClick={() => openDetails(property)}\n                  onKeyDown={(e) => {\n                    if (e.key === 'Enter') openDetails(property);\n                  }}\n                >\n                  <div className=\"property-card__media\">\n                    <img src={heroImage} alt={property.title} loading=\"lazy\" />\n                    <span className=\"property-card__type\">{property.property_type || 'Listing'}</span>\n                    <div className=\"property-card__overlay\">\n                      <span>View details</span>\n                    </div>\n                  </div>\n                  <div className=\"property-card__body\">\n                    <div className=\"d-flex justify-content-between align-items-start gap-2 mb-2\">\n                      <div>\n                        <h2 className=\"property-card__title\">{property.title}</h2>\n                        <p className=\"property-card__location\">\n                          <FaMapMarkerAlt className=\"me-1 text-primary\" />\n                          {property.location}\n                        </p>\n                      </div>\n                      <div className=\"property-card__price\">\n                        <FaCoins className=\"me-1\" />\n                        {formatPrice(property.price)}\n                        <span className=\"text-muted\">/mo</span>\n                      </div>\n                    </div>\n                    {property.description && <p className=\"property-card__description\">{property.description}</p>}\n                    <div className=\"property-card__meta\">\n                      <span>\n                        <FaBed className=\"me-1\" />\n                        {property.rooms ? `${property.rooms} rooms` : 'Flexible rooms'}\n                      </span>\n                      <span>\n                        <FaImages className=\"me-1\" />\n                        {galleryCount ? `${galleryCount} photos` : 'No photos'}\n                      </span>\n                    </div>\n                    <div className=\"property-card__footer\">\n                      <span>Hosted by {property.owner_name}</span>\n                      {ownedByCurrentUser(property) && canManageListings && (\n                        <div className=\"property-card__actions\">\n                          <button\n                            type=\"button\"\n                            className=\"btn btn-outline-primary btn-sm\"\n                            onClick={(event) => {\n                              event.stopPropagation();\n                              openEditPage(property);\n                            }}\n                          >\n                            <FaPen className=\"me-1\" />\n                            Edit\n                          </button>\n                          <button\n                            type=\"button\"\n                            className=\"btn btn-outline-danger btn-sm\"\n                            onClick={(event) => {\n                              event.stopPropagation();\n                              handleDelete(property.id);\n                            }}\n                          >\n                            <FaTrash className=\"me-1\" />\n                            Delete\n                          </button>\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                </article>\n              );\n            })}\n          </div>\n        ) : (\n          <div className=\"card border-0 shadow-sm p-4 text-center text-muted\">\n            There are no properties yet. Hosts can be the first to share a beautiful space.\n          </div>\n        )}\n      </section>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}