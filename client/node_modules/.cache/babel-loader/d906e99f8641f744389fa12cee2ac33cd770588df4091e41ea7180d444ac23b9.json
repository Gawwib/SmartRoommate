{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Documents\\\\Project\\\\Smart-roommate-app\\\\client\\\\src\\\\components\\\\Profile.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport API from '../services/api';\nimport { DEFAULT_PROPERTY_IMAGE } from '../constants/propertyMedia';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst HABIT_OPTIONS = ['Cinema', 'Football', 'Basketball', 'Tennis', 'Running', 'Cycling', 'Hiking', 'Swimming', 'Gym / Fitness', 'Yoga', 'Pilates', 'Cooking', 'Baking', 'Coffee shops', 'Tea lover', 'Wine tasting', 'Craft beer', 'Board games', 'Card games', 'Video games', 'Esports', 'Anime', 'Manga', 'Reading', 'Writing', 'Photography', 'Videography', 'Art galleries', 'Museums', 'Concerts', 'Live music', 'Festivals', 'Travel', 'Road trips', 'Camping', 'Beach days', 'Shopping', 'Thrifting', 'Fashion', 'Interior design', 'DIY projects', 'Gardening', 'Plants', 'Pets / Dogs', 'Pets / Cats', 'Volunteering', 'Meditation', 'Language learning', 'Tech & gadgets', 'Podcasts', 'Stand-up comedy', 'Dancing'];\nconst MIN_HABITS = 3;\nconst MAX_HABITS = 8;\nconst BIO_LIMIT = 30;\nconst parseHabits = value => (value || '').split(',').map(item => item.trim()).filter(Boolean);\nconst formatHabits = list => list.join(', ');\nconst calculateAge = birthdate => {\n  if (!birthdate) return null;\n  const dob = new Date(birthdate);\n  if (Number.isNaN(dob.getTime())) return null;\n  const diff = Date.now() - dob.getTime();\n  const ageDate = new Date(diff);\n  return Math.abs(ageDate.getUTCFullYear() - 1970);\n};\nconst cropImageToSquare = (url, centerPercent, frameRatio = 0.7, outputSize = 800) => new Promise((resolve, reject) => {\n  const img = new Image();\n  img.crossOrigin = 'anonymous';\n  img.onload = () => {\n    const {\n      naturalWidth: w,\n      naturalHeight: h\n    } = img;\n    const size = Math.min(w, h) * frameRatio;\n    const centerX = centerPercent.x / 100 * w;\n    const centerY = centerPercent.y / 100 * h;\n    const startX = Math.min(Math.max(centerX - size / 2, 0), w - size);\n    const startY = Math.min(Math.max(centerY - size / 2, 0), h - size);\n    const canvas = document.createElement('canvas');\n    canvas.width = outputSize;\n    canvas.height = outputSize;\n    const ctx = canvas.getContext('2d');\n    ctx.drawImage(img, startX, startY, size, size, 0, 0, outputSize, outputSize);\n    resolve(canvas.toDataURL('image/jpeg', 0.9));\n  };\n  img.onerror = reject;\n  img.src = url;\n});\nexport default function Profile() {\n  _s();\n  const [profile, setProfile] = useState(null);\n  const [form, setForm] = useState({\n    birthdate: '',\n    gender: '',\n    location: '',\n    bio: '',\n    habits: [],\n    profileImage: ''\n  });\n  const [msg, setMsg] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [uploading, setUploading] = useState(false);\n  const [imagePosition, setImagePosition] = useState({\n    x: 50,\n    y: 50\n  });\n  const [showCropper, setShowCropper] = useState(false);\n  const [tempImage, setTempImage] = useState('');\n  const [isDragging, setIsDragging] = useState(false);\n  const navigate = useNavigate();\n  useEffect(() => {\n    const load = async () => {\n      try {\n        const res = await API.get('/users/me');\n        const interests = parseHabits(res.data.habits);\n        setProfile(res.data);\n        const savedPos = res.data.id && localStorage.getItem(`profileImagePos_${res.data.id}`) ? JSON.parse(localStorage.getItem(`profileImagePos_${res.data.id}`)) : {\n          x: 50,\n          y: 50\n        };\n        setImagePosition(savedPos);\n        setForm({\n          birthdate: res.data.birthdate ? res.data.birthdate.slice(0, 10) : '2003-01-01',\n          gender: res.data.gender || '',\n          location: res.data.location || '',\n          bio: res.data.bio || '',\n          habits: interests,\n          profileImage: res.data.profile_image_url || ''\n        });\n      } catch (err) {\n        var _err$response;\n        if (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.status) === 401) {\n          setError('Please log in to view your profile.');\n        } else {\n          setError('Unable to load your profile right now.');\n        }\n      } finally {\n        setLoading(false);\n      }\n    };\n    load();\n  }, []);\n  const handleHabitToggle = habit => {\n    setForm(prev => {\n      const alreadySelected = prev.habits.includes(habit);\n      if (alreadySelected) {\n        return {\n          ...prev,\n          habits: prev.habits.filter(h => h !== habit)\n        };\n      }\n      if (prev.habits.length >= MAX_HABITS) return prev;\n      return {\n        ...prev,\n        habits: [...prev.habits, habit]\n      };\n    });\n  };\n  const handleChange = e => setForm({\n    ...form,\n    [e.target.name]: e.target.value\n  });\n  const persistProfileImage = async url => {\n    const age = calculateAge(form.birthdate || (profile === null || profile === void 0 ? void 0 : profile.birthdate) || '2003-01-01');\n    const payload = {\n      birthdate: (profile === null || profile === void 0 ? void 0 : profile.birthdate) || '2003-01-01',\n      age,\n      gender: form.gender || (profile === null || profile === void 0 ? void 0 : profile.gender) || null,\n      location: form.location || (profile === null || profile === void 0 ? void 0 : profile.location) || '',\n      budget: null,\n      habits: formatHabits(form.habits),\n      profile_image_url: url,\n      bio: form.bio || (profile === null || profile === void 0 ? void 0 : profile.bio) || ''\n    };\n    try {\n      await API.put('/users/me', payload);\n      setProfile(prev => ({\n        ...prev,\n        ...payload\n      }));\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      console.error(err);\n      setError(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.message) || 'Unable to save photo.');\n    }\n  };\n  const handlePhotoUpload = async event => {\n    const files = Array.from(event.target.files || []);\n    if (!files.length) return;\n    const formData = new FormData();\n    formData.append('images', files[0]);\n    try {\n      var _res$data, _res$data$urls;\n      setUploading(true);\n      const res = await API.post('/uploads', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      const url = (_res$data = res.data) === null || _res$data === void 0 ? void 0 : (_res$data$urls = _res$data.urls) === null || _res$data$urls === void 0 ? void 0 : _res$data$urls[0];\n      if (url) {\n        setForm(prev => ({\n          ...prev,\n          profileImage: url\n        }));\n        setTempImage(url);\n        setShowCropper(true);\n      }\n    } catch (err) {\n      var _err$response3, _err$response3$data;\n      console.error(err);\n      setError(((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.message) || 'Unable to upload photo.');\n    } finally {\n      setUploading(false);\n      event.target.value = '';\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setMsg('');\n    setError('');\n    if (form.habits.length < MIN_HABITS || form.habits.length > MAX_HABITS) {\n      setError(`Choose at least ${MIN_HABITS} and at most ${MAX_HABITS} interests.`);\n      return;\n    }\n    if (!form.gender) {\n      setError('Please select your gender.');\n      return;\n    }\n    if (!form.bio.trim()) {\n      setError('Add a short bio about yourself (max 30 characters).');\n      return;\n    }\n    if (form.bio.trim().length > BIO_LIMIT) {\n      setError('Bio must be 30 characters or fewer.');\n      return;\n    }\n    const age = calculateAge(form.birthdate || (profile === null || profile === void 0 ? void 0 : profile.birthdate) || '2003-01-01');\n    const payload = {\n      birthdate: (profile === null || profile === void 0 ? void 0 : profile.birthdate) || '2003-01-01',\n      age,\n      gender: form.gender || null,\n      location: form.location || '',\n      budget: null,\n      habits: formatHabits(form.habits),\n      profile_image_url: form.profileImage || (profile === null || profile === void 0 ? void 0 : profile.profile_image_url) || null,\n      bio: form.bio.trim()\n    };\n    try {\n      setSaving(true);\n      await API.put('/users/me', payload);\n      setMsg('Profile updated');\n      setProfile(prev => ({\n        ...prev,\n        ...payload\n      }));\n      if (profile !== null && profile !== void 0 && profile.id) {\n        localStorage.setItem(`profileImagePos_${profile.id}`, JSON.stringify(imagePosition));\n      }\n    } catch (err) {\n      var _err$response4, _err$response4$data;\n      console.error(err);\n      setError(((_err$response4 = err.response) === null || _err$response4 === void 0 ? void 0 : (_err$response4$data = _err$response4.data) === null || _err$response4$data === void 0 ? void 0 : _err$response4$data.message) || 'Unable to update profile right now.');\n    } finally {\n      setSaving(false);\n    }\n  };\n  const ageDisplay = useMemo(() => calculateAge(form.birthdate || (profile === null || profile === void 0 ? void 0 : profile.birthdate)), [form.birthdate, profile]);\n  const birthYear = useMemo(() => profile !== null && profile !== void 0 && profile.birthdate ? new Date(profile.birthdate).getFullYear() : null, [profile === null || profile === void 0 ? void 0 : profile.birthdate]);\n  const displayImage = form.profileImage || (profile === null || profile === void 0 ? void 0 : profile.profile_image_url) || DEFAULT_PROPERTY_IMAGE;\n  const handleCropSave = async () => {\n    setShowCropper(false);\n    const urlToSave = tempImage || displayImage;\n    await persistProfileImage(urlToSave);\n    setTempImage('');\n    if (profile !== null && profile !== void 0 && profile.id) {\n      localStorage.setItem(`profileImagePos_${profile.id}`, JSON.stringify(imagePosition));\n    }\n  };\n  const handleCropCancel = () => {\n    setShowCropper(false);\n    setTempImage('');\n  };\n  const startDrag = () => setIsDragging(true);\n  const endDrag = () => setIsDragging(false);\n  const onCropMove = e => {\n    if (!isDragging) return;\n    const rect = e.currentTarget.getBoundingClientRect();\n    const x = (e.clientX - rect.left) / rect.width * 100;\n    const y = (e.clientY - rect.top) / rect.height * 100;\n    setImagePosition({\n      x: Math.min(100, Math.max(0, x)),\n      y: Math.min(100, Math.max(0, y))\n    });\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 300,\n    columnNumber: 23\n  }, this);\n  if (error && !profile) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-warning d-flex justify-content-between align-items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"btn btn-primary btn-sm\",\n        onClick: () => navigate('/login'),\n        children: \"Go to login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 7\n    }, this);\n  }\n  if (!profile) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"profile-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-hero-card shadow-sm\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-hero-image\",\n        style: {\n          backgroundImage: `url(${displayImage})`,\n          backgroundPosition: `${imagePosition.x}% ${imagePosition.y}%`,\n          backgroundSize: 'auto 115%',\n          backgroundRepeat: 'no-repeat'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-hero-overlay\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex align-items-center gap-2 mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"status-dot\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-light small\",\n              children: \"Online now\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-light mb-1\",\n            children: ageDisplay !== null ? `${profile.name}, ${ageDisplay}` : profile.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 13\n          }, this), birthYear && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mb-1 text-light small\",\n            children: [\"Born \", birthYear]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 27\n          }, this), profile.location && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mb-1 text-light\",\n            children: profile.location\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 34\n          }, this), form.bio && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mb-2 text-light fw-semibold\",\n            children: form.bio\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 26\n          }, this), form.habits.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pill-row\",\n            children: form.habits.slice(0, 6).map(habit => /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"pill pill-selected small\",\n              children: habit\n            }, habit, false, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card border-0 shadow-sm\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"eyebrow text-uppercase mb-1\",\n          children: \"Improve your matches\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"h5\",\n          children: \"Update profile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 11\n        }, this), msg && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"alert alert-info mt-2\",\n          children: msg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 19\n        }, this), error && profile && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"alert alert-warning mt-2\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 32\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"mt-3\",\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label d-block\",\n              children: \"Gender *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-check\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"form-check-input\",\n                  type: \"radio\",\n                  name: \"gender\",\n                  id: \"gender-male\",\n                  value: \"male\",\n                  checked: form.gender === 'male',\n                  onChange: handleChange,\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 362,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-check-label\",\n                  htmlFor: \"gender-male\",\n                  children: \"Male\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 372,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 361,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-check\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"form-check-input\",\n                  type: \"radio\",\n                  name: \"gender\",\n                  id: \"gender-female\",\n                  value: \"female\",\n                  checked: form.gender === 'female',\n                  onChange: handleChange,\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 377,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-check-label\",\n                  htmlFor: \"gender-female\",\n                  children: \"Female\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 387,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 376,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 360,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Location\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 394,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"location\",\n              value: form.location,\n              onChange: handleChange,\n              className: \"form-control\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 395,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex justify-content-between align-items-center mb-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label mb-0\",\n                children: [\"Interests (select \", MIN_HABITS, \"-\", MAX_HABITS, \") *\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 399,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                className: \"text-muted\",\n                children: [form.habits.length, \" selected\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 400,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 398,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pill-grid selectable\",\n              children: HABIT_OPTIONS.map(option => {\n                const selected = form.habits.includes(option);\n                const disabled = !selected && form.habits.length >= MAX_HABITS;\n                return /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: `pill ${selected ? 'pill-selected' : ''}`,\n                  onClick: () => handleHabitToggle(option),\n                  disabled: disabled,\n                  children: option\n                }, option, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 407,\n                  columnNumber: 21\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              className: \"text-muted\",\n              children: \"We\\u2019ll use these to improve AI roommate compatibility. Pick what genuinely matters to you.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 419,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex justify-content-between align-items-center mb-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label mb-0\",\n                children: \"My bio *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 425,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                className: \"text-muted\",\n                children: [form.bio.length, \"/\", BIO_LIMIT]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 426,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 424,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"bio\",\n              value: form.bio,\n              onChange: e => {\n                if (e.target.value.length <= BIO_LIMIT) handleChange(e);\n              },\n              className: \"form-control\",\n              placeholder: \"Short sentence about you\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Profile photo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 440,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex align-items-center gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"profile-avatar small\",\n                children: displayImage ? /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: displayImage,\n                  alt: \"Profile\",\n                  style: {\n                    objectPosition: `${imagePosition.x}% ${imagePosition.y}%`\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 444,\n                  columnNumber: 21\n                }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"?\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 450,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 442,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-grow-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"file\",\n                  accept: \"image/*\",\n                  className: \"form-control\",\n                  onChange: handlePhotoUpload,\n                  disabled: uploading\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 454,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                  className: \"text-muted\",\n                  children: \"Upload one clear photo (max 5MB). A crop pop-up will help you center it.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 461,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 453,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 441,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 439,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            type: \"submit\",\n            disabled: saving,\n            children: saving ? 'Saving...' : 'Save profile'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 467,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 7\n    }, this), showCropper && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cropper-overlay\",\n      onMouseUp: endDrag,\n      onMouseLeave: endDrag,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cropper-modal card shadow\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex justify-content-between align-items-center mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"mb-0\",\n              children: \"Adjust your photo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 479,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn-close\",\n              \"aria-label\": \"Close\",\n              onClick: handleCropCancel\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 480,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 478,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-muted small\",\n            children: \"Drag inside the square to re-center your photo.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 482,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cropper-canvas\",\n            onMouseMove: onCropMove,\n            onMouseDown: startDrag,\n            onMouseUp: endDrag,\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: tempImage || displayImage,\n              alt: \"Crop\",\n              style: {\n                objectPosition: `${imagePosition.x}% ${imagePosition.y}%`\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 489,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cropper-frame\",\n              style: {\n                left: `${imagePosition.x}%`,\n                top: `${imagePosition.y}%`,\n                transform: 'translate(-50%, -50%)'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"cropper-guide\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 498,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 494,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 483,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex justify-content-end gap-2 mt-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-outline-secondary\",\n              onClick: handleCropCancel,\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 502,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-primary\",\n              onClick: handleCropSave,\n              children: \"Save crop\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 505,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 501,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 477,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 476,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 475,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 316,\n    columnNumber: 5\n  }, this);\n}\n_s(Profile, \"nCAep/JjMoROaQqnFnND4voVHJU=\", false, function () {\n  return [useNavigate];\n});\n_c = Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","useNavigate","API","DEFAULT_PROPERTY_IMAGE","jsxDEV","_jsxDEV","HABIT_OPTIONS","MIN_HABITS","MAX_HABITS","BIO_LIMIT","parseHabits","value","split","map","item","trim","filter","Boolean","formatHabits","list","join","calculateAge","birthdate","dob","Date","Number","isNaN","getTime","diff","now","ageDate","Math","abs","getUTCFullYear","cropImageToSquare","url","centerPercent","frameRatio","outputSize","Promise","resolve","reject","img","Image","crossOrigin","onload","naturalWidth","w","naturalHeight","h","size","min","centerX","x","centerY","y","startX","max","startY","canvas","document","createElement","width","height","ctx","getContext","drawImage","toDataURL","onerror","src","Profile","_s","profile","setProfile","form","setForm","gender","location","bio","habits","profileImage","msg","setMsg","error","setError","loading","setLoading","saving","setSaving","uploading","setUploading","imagePosition","setImagePosition","showCropper","setShowCropper","tempImage","setTempImage","isDragging","setIsDragging","navigate","load","res","get","interests","data","savedPos","id","localStorage","getItem","JSON","parse","slice","profile_image_url","err","_err$response","response","status","handleHabitToggle","habit","prev","alreadySelected","includes","length","handleChange","e","target","name","persistProfileImage","age","payload","budget","put","_err$response2","_err$response2$data","console","message","handlePhotoUpload","event","files","Array","from","formData","FormData","append","_res$data","_res$data$urls","post","headers","urls","_err$response3","_err$response3$data","handleSubmit","preventDefault","setItem","stringify","_err$response4","_err$response4$data","ageDisplay","birthYear","getFullYear","displayImage","handleCropSave","urlToSave","handleCropCancel","startDrag","endDrag","onCropMove","rect","currentTarget","getBoundingClientRect","clientX","left","clientY","top","children","fileName","_jsxFileName","lineNumber","columnNumber","className","type","onClick","style","backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat","onSubmit","checked","onChange","required","htmlFor","option","selected","disabled","placeholder","alt","objectPosition","accept","onMouseUp","onMouseLeave","onMouseMove","onMouseDown","transform","_c","$RefreshReg$"],"sources":["C:/Users/User/Documents/Project/Smart-roommate-app/client/src/components/Profile.js"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport API from '../services/api';\nimport { DEFAULT_PROPERTY_IMAGE } from '../constants/propertyMedia';\n\nconst HABIT_OPTIONS = [\n  'Cinema',\n  'Football',\n  'Basketball',\n  'Tennis',\n  'Running',\n  'Cycling',\n  'Hiking',\n  'Swimming',\n  'Gym / Fitness',\n  'Yoga',\n  'Pilates',\n  'Cooking',\n  'Baking',\n  'Coffee shops',\n  'Tea lover',\n  'Wine tasting',\n  'Craft beer',\n  'Board games',\n  'Card games',\n  'Video games',\n  'Esports',\n  'Anime',\n  'Manga',\n  'Reading',\n  'Writing',\n  'Photography',\n  'Videography',\n  'Art galleries',\n  'Museums',\n  'Concerts',\n  'Live music',\n  'Festivals',\n  'Travel',\n  'Road trips',\n  'Camping',\n  'Beach days',\n  'Shopping',\n  'Thrifting',\n  'Fashion',\n  'Interior design',\n  'DIY projects',\n  'Gardening',\n  'Plants',\n  'Pets / Dogs',\n  'Pets / Cats',\n  'Volunteering',\n  'Meditation',\n  'Language learning',\n  'Tech & gadgets',\n  'Podcasts',\n  'Stand-up comedy',\n  'Dancing'\n];\n\nconst MIN_HABITS = 3;\nconst MAX_HABITS = 8;\nconst BIO_LIMIT = 30;\n\nconst parseHabits = (value) =>\n  (value || '')\n    .split(',')\n    .map((item) => item.trim())\n    .filter(Boolean);\n\nconst formatHabits = (list) => list.join(', ');\n\nconst calculateAge = (birthdate) => {\n  if (!birthdate) return null;\n  const dob = new Date(birthdate);\n  if (Number.isNaN(dob.getTime())) return null;\n  const diff = Date.now() - dob.getTime();\n  const ageDate = new Date(diff);\n  return Math.abs(ageDate.getUTCFullYear() - 1970);\n};\n\nconst cropImageToSquare = (url, centerPercent, frameRatio = 0.7, outputSize = 800) =>\n  new Promise((resolve, reject) => {\n    const img = new Image();\n    img.crossOrigin = 'anonymous';\n    img.onload = () => {\n      const { naturalWidth: w, naturalHeight: h } = img;\n      const size = Math.min(w, h) * frameRatio;\n      const centerX = (centerPercent.x / 100) * w;\n      const centerY = (centerPercent.y / 100) * h;\n      const startX = Math.min(Math.max(centerX - size / 2, 0), w - size);\n      const startY = Math.min(Math.max(centerY - size / 2, 0), h - size);\n\n      const canvas = document.createElement('canvas');\n      canvas.width = outputSize;\n      canvas.height = outputSize;\n      const ctx = canvas.getContext('2d');\n      ctx.drawImage(img, startX, startY, size, size, 0, 0, outputSize, outputSize);\n      resolve(canvas.toDataURL('image/jpeg', 0.9));\n    };\n    img.onerror = reject;\n    img.src = url;\n  });\n\nexport default function Profile() {\n  const [profile, setProfile] = useState(null);\n  const [form, setForm] = useState({\n    birthdate: '',\n    gender: '',\n    location: '',\n    bio: '',\n    habits: [],\n    profileImage: ''\n  });\n  const [msg, setMsg] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [uploading, setUploading] = useState(false);\n  const [imagePosition, setImagePosition] = useState({ x: 50, y: 50 });\n  const [showCropper, setShowCropper] = useState(false);\n  const [tempImage, setTempImage] = useState('');\n  const [isDragging, setIsDragging] = useState(false);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const load = async () => {\n      try {\n        const res = await API.get('/users/me');\n        const interests = parseHabits(res.data.habits);\n        setProfile(res.data);\n        const savedPos =\n          res.data.id && localStorage.getItem(`profileImagePos_${res.data.id}`)\n            ? JSON.parse(localStorage.getItem(`profileImagePos_${res.data.id}`))\n            : { x: 50, y: 50 };\n        setImagePosition(savedPos);\n        setForm({\n          birthdate: res.data.birthdate ? res.data.birthdate.slice(0, 10) : '2003-01-01',\n          gender: res.data.gender || '',\n          location: res.data.location || '',\n          bio: res.data.bio || '',\n          habits: interests,\n          profileImage: res.data.profile_image_url || ''\n        });\n      } catch (err) {\n        if (err.response?.status === 401) {\n          setError('Please log in to view your profile.');\n        } else {\n          setError('Unable to load your profile right now.');\n        }\n      } finally {\n        setLoading(false);\n      }\n    };\n    load();\n  }, []);\n\n  const handleHabitToggle = (habit) => {\n    setForm((prev) => {\n      const alreadySelected = prev.habits.includes(habit);\n      if (alreadySelected) {\n        return { ...prev, habits: prev.habits.filter((h) => h !== habit) };\n      }\n      if (prev.habits.length >= MAX_HABITS) return prev;\n      return { ...prev, habits: [...prev.habits, habit] };\n    });\n  };\n\n  const handleChange = (e) => setForm({ ...form, [e.target.name]: e.target.value });\n\n  const persistProfileImage = async (url) => {\n    const age = calculateAge(form.birthdate || profile?.birthdate || '2003-01-01');\n    const payload = {\n      birthdate: profile?.birthdate || '2003-01-01',\n      age,\n      gender: form.gender || profile?.gender || null,\n      location: form.location || profile?.location || '',\n      budget: null,\n      habits: formatHabits(form.habits),\n      profile_image_url: url,\n      bio: form.bio || profile?.bio || ''\n    };\n    try {\n      await API.put('/users/me', payload);\n      setProfile((prev) => ({ ...prev, ...payload }));\n    } catch (err) {\n      console.error(err);\n      setError(err.response?.data?.message || 'Unable to save photo.');\n    }\n  };\n\n  const handlePhotoUpload = async (event) => {\n    const files = Array.from(event.target.files || []);\n    if (!files.length) return;\n    const formData = new FormData();\n    formData.append('images', files[0]);\n    try {\n      setUploading(true);\n      const res = await API.post('/uploads', formData, { headers: { 'Content-Type': 'multipart/form-data' } });\n      const url = res.data?.urls?.[0];\n      if (url) {\n        setForm((prev) => ({ ...prev, profileImage: url }));\n        setTempImage(url);\n        setShowCropper(true);\n      }\n    } catch (err) {\n      console.error(err);\n      setError(err.response?.data?.message || 'Unable to upload photo.');\n    } finally {\n      setUploading(false);\n      event.target.value = '';\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setMsg('');\n    setError('');\n\n    if (form.habits.length < MIN_HABITS || form.habits.length > MAX_HABITS) {\n      setError(`Choose at least ${MIN_HABITS} and at most ${MAX_HABITS} interests.`);\n      return;\n    }\n\n    if (!form.gender) {\n      setError('Please select your gender.');\n      return;\n    }\n\n    if (!form.bio.trim()) {\n      setError('Add a short bio about yourself (max 30 characters).');\n      return;\n    }\n\n    if (form.bio.trim().length > BIO_LIMIT) {\n      setError('Bio must be 30 characters or fewer.');\n      return;\n    }\n\n    const age = calculateAge(form.birthdate || profile?.birthdate || '2003-01-01');\n    const payload = {\n      birthdate: profile?.birthdate || '2003-01-01',\n      age,\n      gender: form.gender || null,\n      location: form.location || '',\n      budget: null,\n      habits: formatHabits(form.habits),\n      profile_image_url: form.profileImage || profile?.profile_image_url || null,\n      bio: form.bio.trim()\n    };\n\n    try {\n      setSaving(true);\n      await API.put('/users/me', payload);\n      setMsg('Profile updated');\n      setProfile((prev) => ({ ...prev, ...payload }));\n      if (profile?.id) {\n        localStorage.setItem(`profileImagePos_${profile.id}`, JSON.stringify(imagePosition));\n      }\n    } catch (err) {\n      console.error(err);\n      setError(err.response?.data?.message || 'Unable to update profile right now.');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const ageDisplay = useMemo(() => calculateAge(form.birthdate || profile?.birthdate), [form.birthdate, profile]);\n  const birthYear = useMemo(\n    () => (profile?.birthdate ? new Date(profile.birthdate).getFullYear() : null),\n    [profile?.birthdate]\n  );\n  const displayImage = form.profileImage || profile?.profile_image_url || DEFAULT_PROPERTY_IMAGE;\n\n  const handleCropSave = async () => {\n    setShowCropper(false);\n    const urlToSave = tempImage || displayImage;\n    await persistProfileImage(urlToSave);\n    setTempImage('');\n    if (profile?.id) {\n      localStorage.setItem(`profileImagePos_${profile.id}`, JSON.stringify(imagePosition));\n    }\n  };\n\n  const handleCropCancel = () => {\n    setShowCropper(false);\n    setTempImage('');\n  };\n\n  const startDrag = () => setIsDragging(true);\n  const endDrag = () => setIsDragging(false);\n  const onCropMove = (e) => {\n    if (!isDragging) return;\n    const rect = e.currentTarget.getBoundingClientRect();\n    const x = ((e.clientX - rect.left) / rect.width) * 100;\n    const y = ((e.clientY - rect.top) / rect.height) * 100;\n    setImagePosition({ x: Math.min(100, Math.max(0, x)), y: Math.min(100, Math.max(0, y)) });\n  };\n\n  if (loading) return <div>Loading...</div>;\n\n  if (error && !profile) {\n    return (\n      <div className=\"alert alert-warning d-flex justify-content-between align-items-center\">\n        <span>{error}</span>\n        <button type=\"button\" className=\"btn btn-primary btn-sm\" onClick={() => navigate('/login')}>\n          Go to login\n        </button>\n      </div>\n    );\n  }\n\n  if (!profile) return null;\n\n  return (\n    <div className=\"profile-page\">\n      <div className=\"profile-hero-card shadow-sm\">\n        <div\n          className=\"profile-hero-image\"\n          style={{\n            backgroundImage: `url(${displayImage})`,\n            backgroundPosition: `${imagePosition.x}% ${imagePosition.y}%`,\n            backgroundSize: 'auto 115%',\n            backgroundRepeat: 'no-repeat'\n          }}\n        >\n          <div className=\"profile-hero-overlay\">\n              <div className=\"d-flex align-items-center gap-2 mb-2\">\n                <span className=\"status-dot\"></span>\n                <span className=\"text-light small\">Online now</span>\n              </div>\n            <h2 className=\"text-light mb-1\">\n              {ageDisplay !== null ? `${profile.name}, ${ageDisplay}` : profile.name}\n            </h2>\n            {birthYear && <p className=\"mb-1 text-light small\">Born {birthYear}</p>}\n            {profile.location && <p className=\"mb-1 text-light\">{profile.location}</p>}\n            {form.bio && <p className=\"mb-2 text-light fw-semibold\">{form.bio}</p>}\n            {form.habits.length > 0 && (\n              <div className=\"pill-row\">\n                {form.habits.slice(0, 6).map((habit) => (\n                  <span key={habit} className=\"pill pill-selected small\">\n                    {habit}\n                  </span>\n                ))}\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n\n      <div className=\"card border-0 shadow-sm\">\n        <div className=\"card-body\">\n          <p className=\"eyebrow text-uppercase mb-1\">Improve your matches</p>\n          <h3 className=\"h5\">Update profile</h3>\n          {msg && <div className=\"alert alert-info mt-2\">{msg}</div>}\n          {error && profile && <div className=\"alert alert-warning mt-2\">{error}</div>}\n          <form className=\"mt-3\" onSubmit={handleSubmit}>\n            <div className=\"mb-3\">\n              <label className=\"form-label d-block\">Gender *</label>\n              <div className=\"d-flex gap-3\">\n                <div className=\"form-check\">\n                  <input\n                    className=\"form-check-input\"\n                    type=\"radio\"\n                    name=\"gender\"\n                    id=\"gender-male\"\n                    value=\"male\"\n                    checked={form.gender === 'male'}\n                    onChange={handleChange}\n                    required\n                  />\n                  <label className=\"form-check-label\" htmlFor=\"gender-male\">\n                    Male\n                  </label>\n                </div>\n                <div className=\"form-check\">\n                  <input\n                    className=\"form-check-input\"\n                    type=\"radio\"\n                    name=\"gender\"\n                    id=\"gender-female\"\n                    value=\"female\"\n                    checked={form.gender === 'female'}\n                    onChange={handleChange}\n                    required\n                  />\n                  <label className=\"form-check-label\" htmlFor=\"gender-female\">\n                    Female\n                  </label>\n                </div>\n              </div>\n            </div>\n            <div className=\"mb-3\">\n              <label className=\"form-label\">Location</label>\n              <input name=\"location\" value={form.location} onChange={handleChange} className=\"form-control\" />\n            </div>\n            <div className=\"mb-3\">\n              <div className=\"d-flex justify-content-between align-items-center mb-1\">\n                <label className=\"form-label mb-0\">Interests (select {MIN_HABITS}-{MAX_HABITS}) *</label>\n                <small className=\"text-muted\">{form.habits.length} selected</small>\n              </div>\n              <div className=\"pill-grid selectable\">\n                {HABIT_OPTIONS.map((option) => {\n                  const selected = form.habits.includes(option);\n                  const disabled = !selected && form.habits.length >= MAX_HABITS;\n                  return (\n                    <button\n                      type=\"button\"\n                      key={option}\n                      className={`pill ${selected ? 'pill-selected' : ''}`}\n                      onClick={() => handleHabitToggle(option)}\n                      disabled={disabled}\n                    >\n                      {option}\n                    </button>\n                  );\n                })}\n              </div>\n              <small className=\"text-muted\">\n                Weâ€™ll use these to improve AI roommate compatibility. Pick what genuinely matters to you.\n              </small>\n            </div>\n            <div className=\"mb-3\">\n              <div className=\"d-flex justify-content-between align-items-center mb-1\">\n                <label className=\"form-label mb-0\">My bio *</label>\n                <small className=\"text-muted\">{form.bio.length}/{BIO_LIMIT}</small>\n              </div>\n              <input\n                name=\"bio\"\n                value={form.bio}\n                onChange={(e) => {\n                  if (e.target.value.length <= BIO_LIMIT) handleChange(e);\n                }}\n                className=\"form-control\"\n                placeholder=\"Short sentence about you\"\n                required\n              />\n            </div>\n            <div className=\"mb-3\">\n              <label className=\"form-label\">Profile photo</label>\n              <div className=\"d-flex align-items-center gap-3\">\n                <div className=\"profile-avatar small\">\n                  {displayImage ? (\n                    <img\n                      src={displayImage}\n                      alt=\"Profile\"\n                      style={{ objectPosition: `${imagePosition.x}% ${imagePosition.y}%` }}\n                    />\n                  ) : (\n                    <span>?</span>\n                  )}\n                </div>\n                <div className=\"flex-grow-1\">\n                  <input\n                    type=\"file\"\n                    accept=\"image/*\"\n                    className=\"form-control\"\n                    onChange={handlePhotoUpload}\n                    disabled={uploading}\n                  />\n                  <small className=\"text-muted\">\n                    Upload one clear photo (max 5MB). A crop pop-up will help you center it.\n                  </small>\n                </div>\n              </div>\n            </div>\n            <button className=\"btn btn-primary\" type=\"submit\" disabled={saving}>\n              {saving ? 'Saving...' : 'Save profile'}\n            </button>\n          </form>\n        </div>\n      </div>\n\n      {showCropper && (\n        <div className=\"cropper-overlay\" onMouseUp={endDrag} onMouseLeave={endDrag}>\n          <div className=\"cropper-modal card shadow\">\n            <div className=\"card-body\">\n              <div className=\"d-flex justify-content-between align-items-center mb-2\">\n                <h5 className=\"mb-0\">Adjust your photo</h5>\n                <button type=\"button\" className=\"btn-close\" aria-label=\"Close\" onClick={handleCropCancel}></button>\n              </div>\n              <p className=\"text-muted small\">Drag inside the square to re-center your photo.</p>\n              <div\n                className=\"cropper-canvas\"\n                onMouseMove={onCropMove}\n                onMouseDown={startDrag}\n                onMouseUp={endDrag}\n              >\n                <img\n                  src={tempImage || displayImage}\n                  alt=\"Crop\"\n                  style={{ objectPosition: `${imagePosition.x}% ${imagePosition.y}%` }}\n                />\n                <div\n                  className=\"cropper-frame\"\n                  style={{ left: `${imagePosition.x}%`, top: `${imagePosition.y}%`, transform: 'translate(-50%, -50%)' }}\n                >\n                  <div className=\"cropper-guide\"></div>\n                </div>\n              </div>\n              <div className=\"d-flex justify-content-end gap-2 mt-3\">\n                <button type=\"button\" className=\"btn btn-outline-secondary\" onClick={handleCropCancel}>\n                  Cancel\n                </button>\n                <button type=\"button\" className=\"btn btn-primary\" onClick={handleCropSave}>\n                  Save crop\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}