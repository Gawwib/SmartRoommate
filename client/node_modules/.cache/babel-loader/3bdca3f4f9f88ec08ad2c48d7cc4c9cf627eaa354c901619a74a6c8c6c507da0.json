{"ast":null,"code":"import React from'react';import{Link,useNavigate}from'react-router-dom';import{FaDoorOpen,FaUserCircle}from'react-icons/fa';import{clearAuthToken}from'../services/api';import{useRole}from'../context/RoleContext';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function HostModeControl(_ref){let{variant='inline'}=_ref;const{isHost,toggleMode,isTransitioning,pendingMode}=useRole();const capitalize=value=>value.charAt(0).toUpperCase()+value.slice(1);const nextModeLabel=isHost?'tenant':'host';const displayLabel=pendingMode&&isTransitioning?\"Switching to \".concat(capitalize(pendingMode),\" mode...\"):\"\".concat(capitalize(isHost?'host':'tenant'),\" mode\");return/*#__PURE__*/_jsxs(\"div\",{className:\"host-mode-control d-flex \".concat(variant==='stacked'?'flex-column align-items-stretch':'align-items-center',\" gap-2\"),children:[/*#__PURE__*/_jsx(\"span\",{className:\"mode-pill \".concat(isHost?'mode-pill-host':'mode-pill-tenant'),children:displayLabel}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn host-switch-btn btn-sm \".concat(variant==='stacked'?'w-100':''),onClick:toggleMode,disabled:isTransitioning,children:[\"Switch to \",nextModeLabel,\" mode\"]})]});}export default function Navbar(){const navigate=useNavigate();const token=localStorage.getItem('token');const{switchToTenant,isHost}=useRole();const handleLogout=()=>{localStorage.removeItem('token');clearAuthToken();switchToTenant();navigate('/login');};return/*#__PURE__*/_jsx(\"nav\",{className:\"navbar navbar-expand-lg smart-navbar shadow-sm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center gap-3\",children:[/*#__PURE__*/_jsxs(Link,{className:\"navbar-brand d-flex align-items-center gap-2\",to:\"/\",children:[/*#__PURE__*/_jsx(FaDoorOpen,{}),/*#__PURE__*/_jsx(\"span\",{children:\"SmartRoommate\"})]}),token&&/*#__PURE__*/_jsx(\"div\",{className:\"d-none d-lg-block\",children:/*#__PURE__*/_jsx(HostModeControl,{})})]}),/*#__PURE__*/_jsx(\"button\",{className:\"navbar-toggler\",type:\"button\",\"data-bs-toggle\":\"collapse\",\"data-bs-target\":\"#navbarNav\",\"aria-controls\":\"navbarNav\",\"aria-expanded\":\"false\",\"aria-label\":\"Toggle navigation\",children:/*#__PURE__*/_jsx(\"span\",{className:\"navbar-toggler-icon\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"collapse navbar-collapse\",id:\"navbarNav\",children:[/*#__PURE__*/_jsxs(\"ul\",{className:\"navbar-nav ms-auto align-items-lg-center gap-lg-2\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/\",children:\"Home\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/properties\",children:isHost?'My properties':'Properties'})}),token?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsxs(Link,{className:\"nav-link d-flex align-items-center gap-2\",to:\"/profile\",children:[/*#__PURE__*/_jsx(FaUserCircle,{}),\"Profile\"]})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary btn-sm ms-lg-2\",onClick:handleLogout,children:\"Logout\"})})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/login\",children:\"Login\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"btn btn-primary ms-lg-2\",to:\"/register\",children:\"Join now\"})})]})]}),token&&/*#__PURE__*/_jsx(\"div\",{className:\"d-lg-none mt-4 pt-3 border-top\",children:/*#__PURE__*/_jsx(HostModeControl,{variant:\"stacked\"})})]})]})});}","map":{"version":3,"names":["React","Link","useNavigate","FaDoorOpen","FaUserCircle","clearAuthToken","useRole","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","HostModeControl","_ref","variant","isHost","toggleMode","isTransitioning","pendingMode","capitalize","value","charAt","toUpperCase","slice","nextModeLabel","displayLabel","concat","className","children","type","onClick","disabled","Navbar","navigate","token","localStorage","getItem","switchToTenant","handleLogout","removeItem","to","id"],"sources":["C:/Users/User/Documents/Project/Smart-roommate-app/client/src/components/Navbar.js"],"sourcesContent":["import React from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { FaDoorOpen, FaUserCircle } from 'react-icons/fa';\nimport { clearAuthToken } from '../services/api';\nimport { useRole } from '../context/RoleContext';\n\nfunction HostModeControl({ variant = 'inline' }) {\n  const { isHost, toggleMode, isTransitioning, pendingMode } = useRole();\n  const capitalize = (value) => value.charAt(0).toUpperCase() + value.slice(1);\n  const nextModeLabel = isHost ? 'tenant' : 'host';\n  const displayLabel =\n    pendingMode && isTransitioning ? `Switching to ${capitalize(pendingMode)} mode...` : `${capitalize(isHost ? 'host' : 'tenant')} mode`;\n\n  return (\n    <div\n      className={`host-mode-control d-flex ${variant === 'stacked' ? 'flex-column align-items-stretch' : 'align-items-center'} gap-2`}\n    >\n      <span className={`mode-pill ${isHost ? 'mode-pill-host' : 'mode-pill-tenant'}`}>{displayLabel}</span>\n      <button\n        type=\"button\"\n        className={`btn host-switch-btn btn-sm ${variant === 'stacked' ? 'w-100' : ''}`}\n        onClick={toggleMode}\n        disabled={isTransitioning}\n      >\n        Switch to {nextModeLabel} mode\n      </button>\n    </div>\n  );\n}\n\nexport default function Navbar() {\n  const navigate = useNavigate();\n  const token = localStorage.getItem('token');\n  const { switchToTenant, isHost } = useRole();\n\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    clearAuthToken();\n    switchToTenant();\n    navigate('/login');\n  };\n\n  return (\n    <nav className=\"navbar navbar-expand-lg smart-navbar shadow-sm\">\n      <div className=\"container\">\n        <div className=\"d-flex align-items-center gap-3\">\n          <Link className=\"navbar-brand d-flex align-items-center gap-2\" to=\"/\">\n            <FaDoorOpen />\n            <span>SmartRoommate</span>\n          </Link>\n          {token && (\n            <div className=\"d-none d-lg-block\">\n              <HostModeControl />\n            </div>\n          )}\n        </div>\n        <button\n          className=\"navbar-toggler\"\n          type=\"button\"\n          data-bs-toggle=\"collapse\"\n          data-bs-target=\"#navbarNav\"\n          aria-controls=\"navbarNav\"\n          aria-expanded=\"false\"\n          aria-label=\"Toggle navigation\"\n        >\n          <span className=\"navbar-toggler-icon\"></span>\n        </button>\n        <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\n          <ul className=\"navbar-nav ms-auto align-items-lg-center gap-lg-2\">\n            <li className=\"nav-item\">\n              <Link className=\"nav-link\" to=\"/\">\n                Home\n              </Link>\n            </li>\n            <li className=\"nav-item\">\n              <Link className=\"nav-link\" to=\"/properties\">\n                {isHost ? 'My properties' : 'Properties'}\n              </Link>\n            </li>\n            {token ? (\n              <>\n                <li className=\"nav-item\">\n                  <Link className=\"nav-link d-flex align-items-center gap-2\" to=\"/profile\">\n                    <FaUserCircle />\n                    Profile\n                  </Link>\n                </li>\n                <li className=\"nav-item\">\n                  <button type=\"button\" className=\"btn btn-primary btn-sm ms-lg-2\" onClick={handleLogout}>\n                    Logout\n                  </button>\n                </li>\n              </>\n            ) : (\n              <>\n                <li className=\"nav-item\">\n                  <Link className=\"nav-link\" to=\"/login\">\n                    Login\n                  </Link>\n                </li>\n                <li className=\"nav-item\">\n                  <Link className=\"btn btn-primary ms-lg-2\" to=\"/register\">\n                    Join now\n                  </Link>\n                </li>\n              </>\n            )}\n          </ul>\n          {token && (\n            <div className=\"d-lg-none mt-4 pt-3 border-top\">\n              <HostModeControl variant=\"stacked\" />\n            </div>\n          )}\n        </div>\n      </div>\n    </nav>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}