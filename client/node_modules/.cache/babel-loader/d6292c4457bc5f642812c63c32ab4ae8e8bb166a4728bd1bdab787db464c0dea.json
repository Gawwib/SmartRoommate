{"ast":null,"code":"import _objectSpread from\"C:/Users/User/Documents/Project/Smart-roommate-app/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import API from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const emptyFormState={title:'',location:'',price:'',description:'',rooms:'',property_type:''};export default function Properties(){const[properties,setProperties]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState('');const[formError,setFormError]=useState('');const[form,setForm]=useState(emptyFormState);const[editingId,setEditingId]=useState(null);const[showForm,setShowForm]=useState(false);const[submitting,setSubmitting]=useState(false);const[currentUser,setCurrentUser]=useState(null);const navigate=useNavigate();const isAuthenticated=Boolean(localStorage.getItem('token'));useEffect(()=>{const fetchProperties=async()=>{try{setLoading(true);const res=await API.get('/properties');setProperties(res.data);setError('');}catch(err){console.error(err);setError('Unable to load properties right now.');}finally{setLoading(false);}};fetchProperties();},[]);useEffect(()=>{const loadUser=async()=>{if(!localStorage.getItem('token')){setCurrentUser(null);return;}try{const res=await API.get('/users/me');setCurrentUser(res.data);}catch(err){var _err$response;if(((_err$response=err.response)===null||_err$response===void 0?void 0:_err$response.status)===401){setCurrentUser(null);}else{console.error(err);}}};loadUser();},[]);const resetForm=()=>{setForm(emptyFormState);setEditingId(null);setFormError('');};const openForm=function(){let property=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;if(property){var _property$rooms;setForm({title:property.title,location:property.location,price:property.price,description:property.description||'',rooms:(_property$rooms=property.rooms)!==null&&_property$rooms!==void 0?_property$rooms:'',property_type:property.property_type||''});setEditingId(property.id);}else{resetForm();}setShowForm(true);};const handleChange=e=>{const{name,value}=e.target;setForm(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const handleSubmit=async e=>{e.preventDefault();setFormError('');if(!localStorage.getItem('token')){navigate('/login');return;}if(!form.title.trim()||!form.location.trim()){setFormError('Title and location are required.');return;}const priceValue=parseFloat(form.price);if(Number.isNaN(priceValue)){setFormError('Please enter a valid monthly price.');return;}const roomsValue=form.rooms===''?null:parseInt(form.rooms,10);if(roomsValue!==null&&Number.isNaN(roomsValue)){setFormError('Rooms must be a number.');return;}const payload={title:form.title.trim(),location:form.location.trim(),price:priceValue,description:form.description.trim(),rooms:roomsValue,property_type:form.property_type};try{setSubmitting(true);if(editingId){await API.put(\"/properties/\".concat(editingId),payload);}else{await API.post('/properties',payload);}const res=await API.get('/properties');setProperties(res.data);setError('');setShowForm(false);resetForm();}catch(err){var _err$response2,_err$response2$data;console.error(err);setFormError(((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.message)||'Unable to save property.');}finally{setSubmitting(false);}};const handleDelete=async propertyId=>{if(!localStorage.getItem('token')){navigate('/login');return;}if(!window.confirm('Delete this property?'))return;try{await API.delete(\"/properties/\".concat(propertyId));setProperties(prev=>prev.filter(p=>p.id!==propertyId));setError('');}catch(err){var _err$response3,_err$response3$data;console.error(err);setError(((_err$response3=err.response)===null||_err$response3===void 0?void 0:(_err$response3$data=_err$response3.data)===null||_err$response3$data===void 0?void 0:_err$response3$data.message)||'Unable to delete property.');}};const ownedByCurrentUser=property=>currentUser&&property.user_id===currentUser.id;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-wrap justify-content-between align-items-center mb-4 gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"h3 mb-1\",children:\"Available Properties\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mb-0\",children:\"Browse the list of apartments and rooms our community has shared. Create and manage your own listings once you're signed in.\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary\",onClick:()=>openForm(),children:\"Add Property\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",children:error}),loading?/*#__PURE__*/_jsx(\"div\",{children:\"Loading properties...\"}):properties.length?/*#__PURE__*/_jsx(\"div\",{className:\"row g-3\",children:properties.map(property=>/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 col-lg-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card h-100 shadow-sm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body d-flex flex-column\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-start\",children:[/*#__PURE__*/_jsx(\"h5\",{children:property.title}),/*#__PURE__*/_jsxs(\"span\",{className:\"badge text-bg-light\",children:[\"$\",Number(property.price).toFixed(2)]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-1 text-muted\",children:property.location}),property.description&&/*#__PURE__*/_jsx(\"p\",{className:\"flex-grow-1\",children:property.description}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[\"Listed by \",property.owner_name,\" \",property.rooms?\"- \".concat(property.rooms,\" rooms\"):'',' ',property.property_type?\"- \".concat(property.property_type):'']}),ownedByCurrentUser(property)&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 d-flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-outline-secondary btn-sm\",onClick:()=>openForm(property),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-outline-danger btn-sm\",onClick:()=>handleDelete(property.id),children:\"Delete\"})]})]})})},property.id))}):/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-info\",children:\"No properties have been listed yet.\"}),showForm&&/*#__PURE__*/_jsx(\"div\",{className:\"card mt-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center mb-3\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0\",children:editingId?'Edit property':'Add a property'}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",\"aria-label\":\"Close\",onClick:()=>setShowForm(false)})]}),formError&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",children:formError}),!isAuthenticated&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-warning\",children:[\"You need an account before you can create listings.\",' ',/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-link p-0\",onClick:()=>navigate('/login'),children:\"Log in\"}),' ',\"or\",' ',/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-link p-0\",onClick:()=>navigate('/register'),children:\"register\"}),\".\"]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row g-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Title *\"}),/*#__PURE__*/_jsx(\"input\",{name:\"title\",className:\"form-control\",value:form.title,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Location *\"}),/*#__PURE__*/_jsx(\"input\",{name:\"location\",className:\"form-control\",value:form.location,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Monthly price *\"}),/*#__PURE__*/_jsx(\"input\",{name:\"price\",className:\"form-control\",value:form.price,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Rooms\"}),/*#__PURE__*/_jsx(\"input\",{name:\"rooms\",className:\"form-control\",value:form.rooms,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Type\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"property_type\",className:\"form-select\",value:form.property_type,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select type\"}),/*#__PURE__*/_jsx(\"option\",{value:\"room\",children:\"Room\"}),/*#__PURE__*/_jsx(\"option\",{value:\"flat\",children:\"Flat\"}),/*#__PURE__*/_jsx(\"option\",{value:\"apartment\",children:\"Apartment\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",className:\"form-control\",rows:\"3\",value:form.description,onChange:handleChange})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 d-flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",type:\"submit\",disabled:submitting,children:submitting?'Saving...':editingId?'Save Changes':'Create Property'}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-outline-secondary\",onClick:()=>{setShowForm(false);resetForm();},children:\"Cancel\"})]})]})]})})]});}","map":{"version":3,"names":["React","useEffect","useState","useNavigate","API","jsx","_jsx","jsxs","_jsxs","emptyFormState","title","location","price","description","rooms","property_type","Properties","properties","setProperties","loading","setLoading","error","setError","formError","setFormError","form","setForm","editingId","setEditingId","showForm","setShowForm","submitting","setSubmitting","currentUser","setCurrentUser","navigate","isAuthenticated","Boolean","localStorage","getItem","fetchProperties","res","get","data","err","console","loadUser","_err$response","response","status","resetForm","openForm","property","arguments","length","undefined","_property$rooms","id","handleChange","e","name","value","target","prev","_objectSpread","handleSubmit","preventDefault","trim","priceValue","parseFloat","Number","isNaN","roomsValue","parseInt","payload","put","concat","post","_err$response2","_err$response2$data","message","handleDelete","propertyId","window","confirm","delete","filter","p","_err$response3","_err$response3$data","ownedByCurrentUser","user_id","children","className","type","onClick","map","toFixed","owner_name","onSubmit","onChange","required","rows","disabled"],"sources":["C:/Users/User/Documents/Project/Smart-roommate-app/client/src/components/Properties.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport API from '../services/api';\n\nconst emptyFormState = {\n  title: '',\n  location: '',\n  price: '',\n  description: '',\n  rooms: '',\n  property_type: ''\n};\n\nexport default function Properties() {\n  const [properties, setProperties] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [formError, setFormError] = useState('');\n  const [form, setForm] = useState(emptyFormState);\n  const [editingId, setEditingId] = useState(null);\n  const [showForm, setShowForm] = useState(false);\n  const [submitting, setSubmitting] = useState(false);\n  const [currentUser, setCurrentUser] = useState(null);\n  const navigate = useNavigate();\n  const isAuthenticated = Boolean(localStorage.getItem('token'));\n\n  useEffect(() => {\n    const fetchProperties = async () => {\n      try {\n        setLoading(true);\n        const res = await API.get('/properties');\n        setProperties(res.data);\n        setError('');\n      } catch (err) {\n        console.error(err);\n        setError('Unable to load properties right now.');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchProperties();\n  }, []);\n\n  useEffect(() => {\n    const loadUser = async () => {\n      if (!localStorage.getItem('token')) {\n        setCurrentUser(null);\n        return;\n      }\n\n      try {\n        const res = await API.get('/users/me');\n        setCurrentUser(res.data);\n      } catch (err) {\n        if (err.response?.status === 401) {\n          setCurrentUser(null);\n        } else {\n          console.error(err);\n        }\n      }\n    };\n\n    loadUser();\n  }, []);\n\n  const resetForm = () => {\n    setForm(emptyFormState);\n    setEditingId(null);\n    setFormError('');\n  };\n\n  const openForm = (property = null) => {\n    if (property) {\n      setForm({\n        title: property.title,\n        location: property.location,\n        price: property.price,\n        description: property.description || '',\n        rooms: property.rooms ?? '',\n        property_type: property.property_type || ''\n      });\n      setEditingId(property.id);\n    } else {\n      resetForm();\n    }\n    setShowForm(true);\n  };\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setForm((prev) => ({ ...prev, [name]: value }));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setFormError('');\n    if (!localStorage.getItem('token')) {\n      navigate('/login');\n      return;\n    }\n\n    if (!form.title.trim() || !form.location.trim()) {\n      setFormError('Title and location are required.');\n      return;\n    }\n\n    const priceValue = parseFloat(form.price);\n    if (Number.isNaN(priceValue)) {\n      setFormError('Please enter a valid monthly price.');\n      return;\n    }\n\n    const roomsValue = form.rooms === '' ? null : parseInt(form.rooms, 10);\n    if (roomsValue !== null && Number.isNaN(roomsValue)) {\n      setFormError('Rooms must be a number.');\n      return;\n    }\n\n    const payload = {\n      title: form.title.trim(),\n      location: form.location.trim(),\n      price: priceValue,\n      description: form.description.trim(),\n      rooms: roomsValue,\n      property_type: form.property_type\n    };\n\n    try {\n      setSubmitting(true);\n      if (editingId) {\n        await API.put(`/properties/${editingId}`, payload);\n      } else {\n        await API.post('/properties', payload);\n      }\n      const res = await API.get('/properties');\n      setProperties(res.data);\n      setError('');\n      setShowForm(false);\n      resetForm();\n    } catch (err) {\n      console.error(err);\n      setFormError(err.response?.data?.message || 'Unable to save property.');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  const handleDelete = async (propertyId) => {\n    if (!localStorage.getItem('token')) {\n      navigate('/login');\n      return;\n    }\n    if (!window.confirm('Delete this property?')) return;\n\n    try {\n      await API.delete(`/properties/${propertyId}`);\n      setProperties((prev) => prev.filter((p) => p.id !== propertyId));\n      setError('');\n    } catch (err) {\n      console.error(err);\n      setError(err.response?.data?.message || 'Unable to delete property.');\n    }\n  };\n\n  const ownedByCurrentUser = (property) => currentUser && property.user_id === currentUser.id;\n\n  return (\n    <div>\n      <div className=\"d-flex flex-wrap justify-content-between align-items-center mb-4 gap-3\">\n        <div>\n          <h1 className=\"h3 mb-1\">Available Properties</h1>\n          <p className=\"text-muted mb-0\">\n            Browse the list of apartments and rooms our community has shared. Create and manage your own listings once\n            you&apos;re signed in.\n          </p>\n        </div>\n        <button type=\"button\" className=\"btn btn-primary\" onClick={() => openForm()}>\n          Add Property\n        </button>\n      </div>\n      {error && <div className=\"alert alert-danger\">{error}</div>}\n      {loading ? (\n        <div>Loading properties...</div>\n      ) : properties.length ? (\n        <div className=\"row g-3\">\n          {properties.map((property) => (\n            <div className=\"col-md-6 col-lg-4\" key={property.id}>\n              <div className=\"card h-100 shadow-sm\">\n                <div className=\"card-body d-flex flex-column\">\n                  <div className=\"d-flex justify-content-between align-items-start\">\n                    <h5>{property.title}</h5>\n                    <span className=\"badge text-bg-light\">${Number(property.price).toFixed(2)}</span>\n                  </div>\n                  <p className=\"mb-1 text-muted\">{property.location}</p>\n                  {property.description && <p className=\"flex-grow-1\">{property.description}</p>}\n                  <small className=\"text-muted\">\n                    Listed by {property.owner_name} {property.rooms ? `- ${property.rooms} rooms` : ''}{' '}\n                    {property.property_type ? `- ${property.property_type}` : ''}\n                  </small>\n                  {ownedByCurrentUser(property) && (\n                    <div className=\"mt-3 d-flex gap-2\">\n                      <button\n                        type=\"button\"\n                        className=\"btn btn-outline-secondary btn-sm\"\n                        onClick={() => openForm(property)}\n                      >\n                        Edit\n                      </button>\n                      <button\n                        type=\"button\"\n                        className=\"btn btn-outline-danger btn-sm\"\n                        onClick={() => handleDelete(property.id)}\n                      >\n                        Delete\n                      </button>\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      ) : (\n        <div className=\"alert alert-info\">No properties have been listed yet.</div>\n      )}\n      {showForm && (\n        <div className=\"card mt-4\">\n          <div className=\"card-body\">\n            <div className=\"d-flex justify-content-between align-items-center mb-3\">\n              <h5 className=\"mb-0\">{editingId ? 'Edit property' : 'Add a property'}</h5>\n              <button type=\"button\" className=\"btn-close\" aria-label=\"Close\" onClick={() => setShowForm(false)}></button>\n            </div>\n            {formError && <div className=\"alert alert-danger\">{formError}</div>}\n            {!isAuthenticated && (\n              <div className=\"alert alert-warning\">\n                You need an account before you can create listings.{' '}\n                <button type=\"button\" className=\"btn btn-link p-0\" onClick={() => navigate('/login')}>\n                  Log in\n                </button>{' '}\n                or{' '}\n                <button type=\"button\" className=\"btn btn-link p-0\" onClick={() => navigate('/register')}>\n                  register\n                </button>\n                .\n              </div>\n            )}\n            <form onSubmit={handleSubmit}>\n              <div className=\"row g-3\">\n                <div className=\"col-md-6\">\n                  <label className=\"form-label\">Title *</label>\n                  <input name=\"title\" className=\"form-control\" value={form.title} onChange={handleChange} required />\n                </div>\n                <div className=\"col-md-6\">\n                  <label className=\"form-label\">Location *</label>\n                  <input name=\"location\" className=\"form-control\" value={form.location} onChange={handleChange} required />\n                </div>\n                <div className=\"col-md-4\">\n                  <label className=\"form-label\">Monthly price *</label>\n                  <input\n                    name=\"price\"\n                    className=\"form-control\"\n                    value={form.price}\n                    onChange={handleChange}\n                    required\n                  />\n                </div>\n                <div className=\"col-md-4\">\n                  <label className=\"form-label\">Rooms</label>\n                  <input name=\"rooms\" className=\"form-control\" value={form.rooms} onChange={handleChange} />\n                </div>\n                <div className=\"col-md-4\">\n                  <label className=\"form-label\">Type</label>\n                  <select\n                    name=\"property_type\"\n                    className=\"form-select\"\n                    value={form.property_type}\n                    onChange={handleChange}\n                  >\n                    <option value=\"\">Select type</option>\n                    <option value=\"room\">Room</option>\n                    <option value=\"flat\">Flat</option>\n                    <option value=\"apartment\">Apartment</option>\n                  </select>\n                </div>\n                <div className=\"col-12\">\n                  <label className=\"form-label\">Description</label>\n                  <textarea\n                    name=\"description\"\n                    className=\"form-control\"\n                    rows=\"3\"\n                    value={form.description}\n                    onChange={handleChange}\n                  ></textarea>\n                </div>\n              </div>\n              <div className=\"mt-3 d-flex gap-2\">\n                <button className=\"btn btn-primary\" type=\"submit\" disabled={submitting}>\n                  {submitting ? 'Saving...' : editingId ? 'Save Changes' : 'Create Property'}\n                </button>\n                <button\n                  type=\"button\"\n                  className=\"btn btn-outline-secondary\"\n                  onClick={() => {\n                    setShowForm(false);\n                    resetForm();\n                  }}\n                >\n                  Cancel\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}