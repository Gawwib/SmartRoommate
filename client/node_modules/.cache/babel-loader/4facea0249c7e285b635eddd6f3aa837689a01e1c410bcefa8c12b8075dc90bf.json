{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Documents\\\\Project\\\\Smart-roommate-app\\\\client\\\\src\\\\context\\\\RoleContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useEffect, useMemo, useRef, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst STORAGE_KEY = 'appMode';\nconst RoleContext = /*#__PURE__*/createContext({\n  mode: 'tenant',\n  isHost: false,\n  isTransitioning: false,\n  pendingMode: null,\n  toggleMode: () => {},\n  switchToTenant: () => {}\n});\nexport function RoleProvider({\n  children\n}) {\n  _s();\n  const transitionDuration = 600;\n  const [mode, setMode] = useState(() => {\n    try {\n      return localStorage.getItem(STORAGE_KEY) || 'tenant';\n    } catch {\n      return 'tenant';\n    }\n  });\n  const [isTransitioning, setIsTransitioning] = useState(false);\n  const [pendingMode, setPendingMode] = useState(null);\n  const timerRef = useRef(null);\n  useEffect(() => {\n    try {\n      localStorage.setItem(STORAGE_KEY, mode);\n    } catch {\n      /* ignore write errors caused by disabled storage */\n    }\n  }, [mode]);\n  useEffect(() => () => clearTimeout(timerRef.current), []);\n  const startModeTransition = nextMode => {\n    if (mode === nextMode || isTransitioning) return;\n    if (timerRef.current) clearTimeout(timerRef.current);\n    setPendingMode(nextMode);\n    setIsTransitioning(true);\n    timerRef.current = setTimeout(() => {\n      setMode(nextMode);\n      setIsTransitioning(false);\n      setPendingMode(null);\n      timerRef.current = null;\n    }, transitionDuration);\n  };\n  const toggleMode = () => {\n    const nextMode = mode === 'host' ? 'tenant' : 'host';\n    startModeTransition(nextMode);\n  };\n  const switchToTenant = () => {\n    if (timerRef.current) {\n      clearTimeout(timerRef.current);\n      timerRef.current = null;\n    }\n    setPendingMode(null);\n    setIsTransitioning(false);\n    setMode('tenant');\n  };\n  const value = useMemo(() => ({\n    mode,\n    isHost: mode === 'host',\n    isTransitioning,\n    pendingMode,\n    toggleMode,\n    switchToTenant\n  }), [mode, isTransitioning, pendingMode]);\n  return /*#__PURE__*/_jsxDEV(RoleContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 10\n  }, this);\n}\n_s(RoleProvider, \"NWqqrAKrThxF9Tz6VIVgRGDX9f4=\");\n_c = RoleProvider;\nexport function useRole() {\n  _s2();\n  return useContext(RoleContext);\n}\n_s2(useRole, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nvar _c;\n$RefreshReg$(_c, \"RoleProvider\");","map":{"version":3,"names":["React","createContext","useContext","useEffect","useMemo","useRef","useState","jsxDEV","_jsxDEV","STORAGE_KEY","RoleContext","mode","isHost","isTransitioning","pendingMode","toggleMode","switchToTenant","RoleProvider","children","_s","transitionDuration","setMode","localStorage","getItem","setIsTransitioning","setPendingMode","timerRef","setItem","clearTimeout","current","startModeTransition","nextMode","setTimeout","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","useRole","_s2","$RefreshReg$"],"sources":["C:/Users/User/Documents/Project/Smart-roommate-app/client/src/context/RoleContext.js"],"sourcesContent":["import React, { createContext, useContext, useEffect, useMemo, useRef, useState } from 'react';\n\nconst STORAGE_KEY = 'appMode';\nconst RoleContext = createContext({\n  mode: 'tenant',\n  isHost: false,\n  isTransitioning: false,\n  pendingMode: null,\n  toggleMode: () => {},\n  switchToTenant: () => {}\n});\n\nexport function RoleProvider({ children }) {\n  const transitionDuration = 600;\n   const [mode, setMode] = useState(() => {\n    try {\n      return localStorage.getItem(STORAGE_KEY) || 'tenant';\n    } catch {\n      return 'tenant';\n    }\n  });\n  const [isTransitioning, setIsTransitioning] = useState(false);\n  const [pendingMode, setPendingMode] = useState(null);\n  const timerRef = useRef(null);\n\n  useEffect(() => {\n    try {\n      localStorage.setItem(STORAGE_KEY, mode);\n    } catch {\n      /* ignore write errors caused by disabled storage */\n    }\n  }, [mode]);\n\n  useEffect(() => () => clearTimeout(timerRef.current), []);\n\n  const startModeTransition = (nextMode) => {\n    if (mode === nextMode || isTransitioning) return;\n    if (timerRef.current) clearTimeout(timerRef.current);\n    setPendingMode(nextMode);\n    setIsTransitioning(true);\n    timerRef.current = setTimeout(() => {\n      setMode(nextMode);\n      setIsTransitioning(false);\n      setPendingMode(null);\n      timerRef.current = null;\n    }, transitionDuration);\n  };\n\n  const toggleMode = () => {\n    const nextMode = mode === 'host' ? 'tenant' : 'host';\n    startModeTransition(nextMode);\n  };\n\n  const switchToTenant = () => {\n    if (timerRef.current) {\n      clearTimeout(timerRef.current);\n      timerRef.current = null;\n    }\n    setPendingMode(null);\n    setIsTransitioning(false);\n    setMode('tenant');\n  };\n\n  const value = useMemo(\n    () => ({\n      mode,\n      isHost: mode === 'host',\n      isTransitioning,\n      pendingMode,\n      toggleMode,\n      switchToTenant\n    }),\n    [mode, isTransitioning, pendingMode]\n  );\n\n  return <RoleContext.Provider value={value}>{children}</RoleContext.Provider>;\n}\n\nexport function useRole() {\n  return useContext(RoleContext);\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}